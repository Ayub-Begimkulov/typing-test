{"type":"javascript","text":"import { useState } from 'react';\nimport { useIsMounted } from './use-is-mounted';\n\nexport function useSafeState(initialValue) {\n  const [state, setState] = useState(initialValue);\n  const isMounted = useIsMounted();\n\n  const updateState = useCallback(\n    newValue => {\n      if (isMounted.current) {\n        setState(newValue);\n      }\n    },\n    [isMounted]\n  );\n\n  return [state, updateState];\n}","words":[{"text":"import","type":"Keyword","range":[0,6]},{"text":"useState","type":"Identifier","range":[9,17]},{"text":"from","type":"Identifier","range":[20,24]},{"text":"'react'","type":"String","range":[25,32]},{"text":"import","type":"Keyword","range":[34,40]},{"text":"useIsMounted","type":"Identifier","range":[43,55]},{"text":"from","type":"Identifier","range":[58,62]},{"text":"'./use-is-mounted'","type":"String","range":[63,81]},{"text":"export","type":"Keyword","range":[84,90]},{"text":"function","type":"Keyword","range":[91,99]},{"text":"useSafeState","type":"Identifier","range":[100,112]},{"text":"initialValue","type":"Identifier","range":[113,125]},{"text":"const","type":"Keyword","range":[131,136]},{"text":"state","type":"Identifier","range":[138,143]},{"text":"setState","type":"Identifier","range":[145,153]},{"text":"useState","type":"Identifier","range":[157,165]},{"text":"initialValue","type":"Identifier","range":[166,178]},{"text":"const","type":"Keyword","range":[183,188]},{"text":"isMounted","type":"Identifier","range":[189,198]},{"text":"useIsMounted","type":"Identifier","range":[201,213]},{"text":"const","type":"Keyword","range":[220,225]},{"text":"updateState","type":"Identifier","range":[226,237]},{"text":"useCallback","type":"Identifier","range":[240,251]},{"text":"newValue","type":"Identifier","range":[257,265]},{"text":"if","type":"Keyword","range":[277,279]},{"text":"isMounted","type":"Identifier","range":[281,290]},{"text":"current","type":"Identifier","range":[291,298]},{"text":"setState","type":"Identifier","range":[310,318]},{"text":"newValue","type":"Identifier","range":[319,327]},{"text":"isMounted","type":"Identifier","range":[350,359]},{"text":"return","type":"Keyword","range":[369,375]},{"text":"state","type":"Identifier","range":[377,382]},{"text":"updateState","type":"Identifier","range":[384,395]}]}