{"type":"javascript","text":"import { useRef } from 'react';\n\nfunction areDepsEqual(prevDeps, currentDeps) {\n  if (prevDeps.length !== currentDeps.length) {\n    return false;\n  }\n\n  for (let i = 0, l = prevDeps.length; i < l; i++) {\n    if (!Object.is(prevDeps[i], currentDeps[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction useMemo(getResult, deps) {\n  const prevDeps = useRef(null);\n  const prevResult = useRef(null);\n\n  if (prevDeps.current && areDepsEqual(prevDeps.current, deps)) {\n    return prevResult.current;\n  }\n\n  const result = getResult();\n\n  prevDeps.current = deps;\n  prevResult.current = result;\n\n  return result;\n}\n\nfunction useCallback(cb, deps) {\n  useMemo(() => cb, [...deps]);\n}","words":[{"text":"import","type":"Keyword","range":[0,6]},{"text":"useRef","type":"Identifier","range":[9,15]},{"text":"from","type":"Identifier","range":[18,22]},{"text":"'react'","type":"String","range":[23,30]},{"text":"function","type":"Keyword","range":[33,41]},{"text":"areDepsEqual","type":"Identifier","range":[42,54]},{"text":"prevDeps","type":"Identifier","range":[55,63]},{"text":"currentDeps","type":"Identifier","range":[65,76]},{"text":"if","type":"Keyword","range":[82,84]},{"text":"prevDeps","type":"Identifier","range":[86,94]},{"text":"length","type":"Identifier","range":[95,101]},{"text":"currentDeps","type":"Identifier","range":[106,117]},{"text":"length","type":"Identifier","range":[118,124]},{"text":"return","type":"Keyword","range":[132,138]},{"text":"false","type":"Boolean","range":[139,144]},{"text":"for","type":"Keyword","range":[153,156]},{"text":"let","type":"Keyword","range":[158,161]},{"text":"i","type":"Identifier","range":[162,163]},{"text":"0","type":"Numeric","range":[166,167]},{"text":"l","type":"Identifier","range":[169,170]},{"text":"prevDeps","type":"Identifier","range":[173,181]},{"text":"length","type":"Identifier","range":[182,188]},{"text":"i","type":"Identifier","range":[190,191]},{"text":"l","type":"Identifier","range":[194,195]},{"text":"i","type":"Identifier","range":[197,198]},{"text":"if","type":"Keyword","range":[208,210]},{"text":"Object","type":"Identifier","range":[213,219]},{"text":"is","type":"Identifier","range":[220,222]},{"text":"prevDeps","type":"Identifier","range":[223,231]},{"text":"i","type":"Identifier","range":[232,233]},{"text":"currentDeps","type":"Identifier","range":[236,247]},{"text":"i","type":"Identifier","range":[248,249]},{"text":"return","type":"Keyword","range":[261,267]},{"text":"false","type":"Boolean","range":[268,273]},{"text":"return","type":"Keyword","range":[288,294]},{"text":"true","type":"Boolean","range":[295,299]},{"text":"function","type":"Keyword","range":[304,312]},{"text":"useMemo","type":"Identifier","range":[313,320]},{"text":"getResult","type":"Identifier","range":[321,330]},{"text":"deps","type":"Identifier","range":[332,336]},{"text":"const","type":"Keyword","range":[342,347]},{"text":"prevDeps","type":"Identifier","range":[348,356]},{"text":"useRef","type":"Identifier","range":[359,365]},{"text":"null","type":"Keyword","range":[366,370]},{"text":"const","type":"Keyword","range":[375,380]},{"text":"prevResult","type":"Identifier","range":[381,391]},{"text":"useRef","type":"Identifier","range":[394,400]},{"text":"null","type":"Keyword","range":[401,405]},{"text":"if","type":"Keyword","range":[411,413]},{"text":"prevDeps","type":"Identifier","range":[415,423]},{"text":"current","type":"Identifier","range":[424,431]},{"text":"areDepsEqual","type":"Identifier","range":[435,447]},{"text":"prevDeps","type":"Identifier","range":[448,456]},{"text":"current","type":"Identifier","range":[457,464]},{"text":"deps","type":"Identifier","range":[466,470]},{"text":"return","type":"Keyword","range":[479,485]},{"text":"prevResult","type":"Identifier","range":[486,496]},{"text":"current","type":"Identifier","range":[497,504]},{"text":"const","type":"Keyword","range":[513,518]},{"text":"result","type":"Identifier","range":[519,525]},{"text":"getResult","type":"Identifier","range":[528,537]},{"text":"prevDeps","type":"Identifier","range":[544,552]},{"text":"current","type":"Identifier","range":[553,560]},{"text":"deps","type":"Identifier","range":[563,567]},{"text":"prevResult","type":"Identifier","range":[571,581]},{"text":"current","type":"Identifier","range":[582,589]},{"text":"result","type":"Identifier","range":[592,598]},{"text":"return","type":"Keyword","range":[603,609]},{"text":"result","type":"Identifier","range":[610,616]},{"text":"function","type":"Keyword","range":[621,629]},{"text":"useCallback","type":"Identifier","range":[630,641]},{"text":"cb","type":"Identifier","range":[642,644]},{"text":"deps","type":"Identifier","range":[646,650]},{"text":"useMemo","type":"Identifier","range":[656,663]},{"text":"cb","type":"Identifier","range":[670,672]},{"text":"deps","type":"Identifier","range":[678,682]}]}