{"type":"javascript","text":"import { useEffect, useMemo } from 'react';\nimport { useLatest } from './use-latest';\n\nfunction makeDebouncedHook(debounceFn) {\n  return function useDebounce(cb, ms) {\n    const latestCb = useLatest(cb);\n\n    const debouncedFn = useMemo(\n      () =>\n        debounceFn((...args) => {\n          latestCb.current(...args);\n        }, ms),\n      [ms, latestCb]\n    );\n\n    useEffect(() => () => debouncedFn.cancel(), [debouncedFn]);\n\n    return debouncedFn;\n  };\n}\n\nexport const useDebounce = makeDebouncedHook(debounce);\nexport const useThrottle = makeDebouncedHook(throttle);","words":[{"text":"import","type":"Keyword","range":[0,6]},{"text":"useEffect","type":"Identifier","range":[9,18]},{"text":"useMemo","type":"Identifier","range":[20,27]},{"text":"from","type":"Identifier","range":[30,34]},{"text":"'react'","type":"String","range":[35,42]},{"text":"import","type":"Keyword","range":[44,50]},{"text":"useLatest","type":"Identifier","range":[53,62]},{"text":"from","type":"Identifier","range":[65,69]},{"text":"'./use-latest'","type":"String","range":[70,84]},{"text":"function","type":"Keyword","range":[87,95]},{"text":"makeDebouncedHook","type":"Identifier","range":[96,113]},{"text":"debounceFn","type":"Identifier","range":[114,124]},{"text":"return","type":"Keyword","range":[130,136]},{"text":"function","type":"Keyword","range":[137,145]},{"text":"useDebounce","type":"Identifier","range":[146,157]},{"text":"cb","type":"Identifier","range":[158,160]},{"text":"ms","type":"Identifier","range":[162,164]},{"text":"const","type":"Keyword","range":[172,177]},{"text":"latestCb","type":"Identifier","range":[178,186]},{"text":"useLatest","type":"Identifier","range":[189,198]},{"text":"cb","type":"Identifier","range":[199,201]},{"text":"const","type":"Keyword","range":[209,214]},{"text":"debouncedFn","type":"Identifier","range":[215,226]},{"text":"useMemo","type":"Identifier","range":[229,236]},{"text":"debounceFn","type":"Identifier","range":[258,268]},{"text":"args","type":"Identifier","range":[273,277]},{"text":"latestCb","type":"Identifier","range":[294,302]},{"text":"current","type":"Identifier","range":[303,310]},{"text":"args","type":"Identifier","range":[314,318]},{"text":"ms","type":"Identifier","range":[332,334]},{"text":"ms","type":"Identifier","range":[344,346]},{"text":"latestCb","type":"Identifier","range":[348,356]},{"text":"useEffect","type":"Identifier","range":[370,379]},{"text":"debouncedFn","type":"Identifier","range":[392,403]},{"text":"cancel","type":"Identifier","range":[404,410]},{"text":"debouncedFn","type":"Identifier","range":[415,426]},{"text":"return","type":"Keyword","range":[435,441]},{"text":"debouncedFn","type":"Identifier","range":[442,453]},{"text":"export","type":"Keyword","range":[463,469]},{"text":"const","type":"Keyword","range":[470,475]},{"text":"useDebounce","type":"Identifier","range":[476,487]},{"text":"makeDebouncedHook","type":"Identifier","range":[490,507]},{"text":"debounce","type":"Identifier","range":[508,516]},{"text":"export","type":"Keyword","range":[519,525]},{"text":"const","type":"Keyword","range":[526,531]},{"text":"useThrottle","type":"Identifier","range":[532,543]},{"text":"makeDebouncedHook","type":"Identifier","range":[546,563]},{"text":"throttle","type":"Identifier","range":[564,572]}]}