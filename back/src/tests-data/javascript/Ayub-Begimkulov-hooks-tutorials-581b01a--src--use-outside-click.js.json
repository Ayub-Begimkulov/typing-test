{"type":"javascript","text":"import { useEffect } from 'react';\nimport { useLatest } from './use-latest';\n\nexport function useOutsideClick(elementRef, handler, attached = true) {\n  const latestHandler = useLatest(handler);\n\n  useEffect(() => {\n    if (!attached) return;\n\n    const handleClick = e => {\n      if (!elementRef.current) return;\n      if (!elementRef.current.contains(e.target)) {\n        latestHandler.current();\n      }\n    };\n\n    document.addEventListener('click', handleClick);\n\n    return () => {\n      document.removeEventListener('click', handleClick);\n    };\n  }, [elementRef, latestHandler, attached]);\n}","words":[{"text":"import","type":"Keyword","range":[0,6]},{"text":"useEffect","type":"Identifier","range":[9,18]},{"text":"from","type":"Identifier","range":[21,25]},{"text":"'react'","type":"String","range":[26,33]},{"text":"import","type":"Keyword","range":[35,41]},{"text":"useLatest","type":"Identifier","range":[44,53]},{"text":"from","type":"Identifier","range":[56,60]},{"text":"'./use-latest'","type":"String","range":[61,75]},{"text":"export","type":"Keyword","range":[78,84]},{"text":"function","type":"Keyword","range":[85,93]},{"text":"useOutsideClick","type":"Identifier","range":[94,109]},{"text":"elementRef","type":"Identifier","range":[110,120]},{"text":"handler","type":"Identifier","range":[122,129]},{"text":"attached","type":"Identifier","range":[131,139]},{"text":"true","type":"Boolean","range":[142,146]},{"text":"const","type":"Keyword","range":[152,157]},{"text":"latestHandler","type":"Identifier","range":[158,171]},{"text":"useLatest","type":"Identifier","range":[174,183]},{"text":"handler","type":"Identifier","range":[184,191]},{"text":"useEffect","type":"Identifier","range":[197,206]},{"text":"if","type":"Keyword","range":[219,221]},{"text":"attached","type":"Identifier","range":[224,232]},{"text":"return","type":"Keyword","range":[234,240]},{"text":"const","type":"Keyword","range":[247,252]},{"text":"handleClick","type":"Identifier","range":[253,264]},{"text":"e","type":"Identifier","range":[267,268]},{"text":"if","type":"Keyword","range":[280,282]},{"text":"elementRef","type":"Identifier","range":[285,295]},{"text":"current","type":"Identifier","range":[296,303]},{"text":"return","type":"Keyword","range":[305,311]},{"text":"if","type":"Keyword","range":[319,321]},{"text":"elementRef","type":"Identifier","range":[324,334]},{"text":"current","type":"Identifier","range":[335,342]},{"text":"contains","type":"Identifier","range":[343,351]},{"text":"e","type":"Identifier","range":[352,353]},{"text":"target","type":"Identifier","range":[354,360]},{"text":"latestHandler","type":"Identifier","range":[373,386]},{"text":"current","type":"Identifier","range":[387,394]},{"text":"document","type":"Identifier","range":[418,426]},{"text":"addEventListener","type":"Identifier","range":[427,443]},{"text":"'click'","type":"String","range":[444,451]},{"text":"handleClick","type":"Identifier","range":[453,464]},{"text":"return","type":"Keyword","range":[472,478]},{"text":"document","type":"Identifier","range":[493,501]},{"text":"removeEventListener","type":"Identifier","range":[502,521]},{"text":"'click'","type":"String","range":[522,529]},{"text":"handleClick","type":"Identifier","range":[531,542]},{"text":"elementRef","type":"Identifier","range":[558,568]},{"text":"latestHandler","type":"Identifier","range":[570,583]},{"text":"attached","type":"Identifier","range":[585,593]}]}