{"type":"typescript","text":"import { replaceNode } from \"../utils\";\nimport { onBeforeDestroy } from \"./life-cycle\";\nimport { watchEffect } from \"./watch\";\n\nexport const renderIf = (\n  el: Element,\n  condition: (...args: any[]) => boolean\n) => {\n  const comment = document.createComment(\"\");\n\n  watchEffect(() => {\n    const showElement = condition();\n\n    if (showElement) {\n      if (!el.parentNode) {\n        replaceNode(comment, el);\n      }\n    } else if (!comment.parentNode) {\n      replaceNode(el, comment);\n    }\n  });\n};\n\nexport const showIf = (\n  el: HTMLElement,\n  condition: (...args: any[]) => boolean\n) => {\n  const initialDisplay = el.style.display;\n\n  watchEffect(() => {\n    const showElement = condition();\n    el.style.display = showElement ? initialDisplay : \"none\";\n  });\n};\n\nexport const dynamicClasses = (\n  el: Element,\n  classMap: Record<string, () => boolean>\n) => {\n  Object.entries(classMap).forEach(([className, condition]) => {\n    watchEffect(() => {\n      condition()\n        ? el.classList.add(className)\n        : el.classList.remove(className);\n    });\n  });\n};\n\nexport const listen = (\n  el: EventTarget,\n  event: string,\n  listener: EventListenerOrEventListenerObject\n) => {\n  el.addEventListener(event, listener);\n\n  const remove = () => el.removeEventListener(event, listener);\n\n  onBeforeDestroy(remove);\n\n  return remove;\n};","words":[{"text":"import","type":"Keyword","range":[0,6]},{"text":"replaceNode","type":"Identifier","range":[9,20]},{"text":"from","type":"Identifier","range":[23,27]},{"text":"\"../utils\"","type":"String","range":[28,38]},{"text":"import","type":"Keyword","range":[40,46]},{"text":"onBeforeDestroy","type":"Identifier","range":[49,64]},{"text":"from","type":"Identifier","range":[67,71]},{"text":"\"./life-cycle\"","type":"String","range":[72,86]},{"text":"import","type":"Keyword","range":[88,94]},{"text":"watchEffect","type":"Identifier","range":[97,108]},{"text":"from","type":"Identifier","range":[111,115]},{"text":"\"./watch\"","type":"String","range":[116,125]},{"text":"export","type":"Keyword","range":[128,134]},{"text":"const","type":"Keyword","range":[135,140]},{"text":"renderIf","type":"Identifier","range":[141,149]},{"text":"el","type":"Identifier","range":[156,158]},{"text":"Element","type":"Identifier","range":[160,167]},{"text":"condition","type":"Identifier","range":[171,180]},{"text":"args","type":"Identifier","range":[186,190]},{"text":"any","type":"Identifier","range":[192,195]},{"text":"boolean","type":"Identifier","range":[202,209]},{"text":"const","type":"Keyword","range":[219,224]},{"text":"comment","type":"Identifier","range":[225,232]},{"text":"document","type":"Identifier","range":[235,243]},{"text":"createComment","type":"Identifier","range":[244,257]},{"text":"\"\"","type":"String","range":[258,260]},{"text":"watchEffect","type":"Identifier","range":[266,277]},{"text":"const","type":"Keyword","range":[290,295]},{"text":"showElement","type":"Identifier","range":[296,307]},{"text":"condition","type":"Identifier","range":[310,319]},{"text":"if","type":"Keyword","range":[328,330]},{"text":"showElement","type":"Identifier","range":[332,343]},{"text":"if","type":"Keyword","range":[353,355]},{"text":"el","type":"Identifier","range":[358,360]},{"text":"parentNode","type":"Identifier","range":[361,371]},{"text":"replaceNode","type":"Identifier","range":[383,394]},{"text":"comment","type":"Identifier","range":[395,402]},{"text":"el","type":"Identifier","range":[404,406]},{"text":"else","type":"Keyword","range":[423,427]},{"text":"if","type":"Keyword","range":[428,430]},{"text":"comment","type":"Identifier","range":[433,440]},{"text":"parentNode","type":"Identifier","range":[441,451]},{"text":"replaceNode","type":"Identifier","range":[461,472]},{"text":"el","type":"Identifier","range":[473,475]},{"text":"comment","type":"Identifier","range":[477,484]},{"text":"export","type":"Keyword","range":[503,509]},{"text":"const","type":"Keyword","range":[510,515]},{"text":"showIf","type":"Identifier","range":[516,522]},{"text":"el","type":"Identifier","range":[529,531]},{"text":"HTMLElement","type":"Identifier","range":[533,544]},{"text":"condition","type":"Identifier","range":[548,557]},{"text":"args","type":"Identifier","range":[563,567]},{"text":"any","type":"Identifier","range":[569,572]},{"text":"boolean","type":"Identifier","range":[579,586]},{"text":"const","type":"Keyword","range":[596,601]},{"text":"initialDisplay","type":"Identifier","range":[602,616]},{"text":"el","type":"Identifier","range":[619,621]},{"text":"style","type":"Identifier","range":[622,627]},{"text":"display","type":"Identifier","range":[628,635]},{"text":"watchEffect","type":"Identifier","range":[640,651]},{"text":"const","type":"Keyword","range":[664,669]},{"text":"showElement","type":"Identifier","range":[670,681]},{"text":"condition","type":"Identifier","range":[684,693]},{"text":"el","type":"Identifier","range":[701,703]},{"text":"style","type":"Identifier","range":[704,709]},{"text":"display","type":"Identifier","range":[710,717]},{"text":"showElement","type":"Identifier","range":[720,731]},{"text":"initialDisplay","type":"Identifier","range":[734,748]},{"text":"\"none\"","type":"String","range":[751,757]},{"text":"export","type":"Keyword","range":[769,775]},{"text":"const","type":"Keyword","range":[776,781]},{"text":"dynamicClasses","type":"Identifier","range":[782,796]},{"text":"el","type":"Identifier","range":[803,805]},{"text":"Element","type":"Identifier","range":[807,814]},{"text":"classMap","type":"Identifier","range":[818,826]},{"text":"Record","type":"Identifier","range":[828,834]},{"text":"string","type":"Identifier","range":[835,841]},{"text":"boolean","type":"Identifier","range":[849,856]},{"text":"Object","type":"Identifier","range":[867,873]},{"text":"entries","type":"Identifier","range":[874,881]},{"text":"classMap","type":"Identifier","range":[882,890]},{"text":"forEach","type":"Identifier","range":[892,899]},{"text":"className","type":"Identifier","range":[902,911]},{"text":"condition","type":"Identifier","range":[913,922]},{"text":"watchEffect","type":"Identifier","range":[934,945]},{"text":"condition","type":"Identifier","range":[960,969]},{"text":"el","type":"Identifier","range":[982,984]},{"text":"classList","type":"Identifier","range":[985,994]},{"text":"add","type":"Identifier","range":[995,998]},{"text":"className","type":"Identifier","range":[999,1008]},{"text":"el","type":"Identifier","range":[1020,1022]},{"text":"classList","type":"Identifier","range":[1023,1032]},{"text":"remove","type":"Identifier","range":[1033,1039]},{"text":"className","type":"Identifier","range":[1040,1049]},{"text":"export","type":"Keyword","range":[1070,1076]},{"text":"const","type":"Keyword","range":[1077,1082]},{"text":"listen","type":"Identifier","range":[1083,1089]},{"text":"el","type":"Identifier","range":[1096,1098]},{"text":"EventTarget","type":"Identifier","range":[1100,1111]},{"text":"event","type":"Identifier","range":[1115,1120]},{"text":"string","type":"Identifier","range":[1122,1128]},{"text":"listener","type":"Identifier","range":[1132,1140]},{"text":"EventListenerOrEventListenerObject","type":"Identifier","range":[1142,1176]},{"text":"el","type":"Identifier","range":[1186,1188]},{"text":"addEventListener","type":"Identifier","range":[1189,1205]},{"text":"event","type":"Identifier","range":[1206,1211]},{"text":"listener","type":"Identifier","range":[1213,1221]},{"text":"const","type":"Keyword","range":[1227,1232]},{"text":"remove","type":"Identifier","range":[1233,1239]},{"text":"el","type":"Identifier","range":[1248,1250]},{"text":"removeEventListener","type":"Identifier","range":[1251,1270]},{"text":"event","type":"Identifier","range":[1271,1276]},{"text":"listener","type":"Identifier","range":[1278,1286]},{"text":"onBeforeDestroy","type":"Identifier","range":[1292,1307]},{"text":"remove","type":"Identifier","range":[1308,1314]},{"text":"return","type":"Keyword","range":[1320,1326]},{"text":"remove","type":"Identifier","range":[1327,1333]}]}