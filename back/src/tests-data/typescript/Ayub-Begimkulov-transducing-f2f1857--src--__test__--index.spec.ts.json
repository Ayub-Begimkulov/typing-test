{"type":"typescript","text":"import {\n  transduce,\n  filter,\n  map,\n  flatMap,\n  take,\n  takeUntil,\n  takeWhile,\n} from \"..\";\n\ndescribe(\"transduce\", () => {\n  it(\"map\", () => {\n    const original = [1, 2, 3];\n    const mapper = (v: number) => v + 1;\n    const result = transduce(original, map(mapper));\n    const expected = original.map(mapper);\n    expect(result).toEqual(expected);\n  });\n\n  it(\"filter\", () => {\n    const original = [1, 2, 3];\n    const predicate = (v: number) => v > 1;\n    const result = transduce(original, filter(predicate));\n    const expected = original.filter(predicate);\n    expect(result).toEqual(expected);\n  });\n\n  it(\"flatMap\", () => {\n    const original = [1, 2, 3];\n    const nested = original.map(v => [v]);\n    const mapper = <T>(v: T) => v;\n    // with nested arrays\n    let result = transduce(nested, flatMap(mapper));\n    let expected = nested.flatMap(mapper);\n    expect(result).toEqual(expected);\n    // with flat arrays\n    result = transduce(original, flatMap(mapper));\n    expected = original.flatMap(mapper);\n    expect(result).toEqual(expected);\n  });\n\n  it(\"take\", () => {\n    const original = [1, 2, 3, 4, 5];\n    const result = transduce(original, take(3));\n    expect(result).toEqual([1, 2, 3]);\n  });\n\n  it(\"takeUntil\", () => {\n    const original = [1, 2, 3, \"adf\", 5];\n\n    // with flat arrays\n    const result = transduce(\n      original,\n      takeUntil(v => typeof v === \"string\")\n    );\n    expect(result).toEqual([1, 2, 3]);\n  });\n\n  it(\"takeWhile\", () => {\n    const original = [1, 2, 3, \"adf\", 5];\n\n    // with flat arrays\n    const result = transduce(\n      original,\n      takeWhile(v => typeof v === \"number\")\n    );\n    expect(result).toEqual([1, 2, 3]);\n  });\n\n  it(\"combination\", () => {\n    const original = [1, 2, 3, 5, 6, 7];\n    const result = transduce(\n      original,\n      filter(v => v > 1),\n      map(v => [v + 1]),\n      flatMap(v => v)\n    );\n    const expected = original\n      .filter(v => v > 1)\n      .map(v => [v + 1])\n      .flatMap(v => v);\n    expect(result).toEqual(expected);\n  });\n\n  it.todo(\"correctly passes additional arguments into combiner\");\n});","words":[{"text":"import","type":"Keyword","range":[0,6]},{"text":"transduce","type":"Identifier","range":[11,20]},{"text":"filter","type":"Identifier","range":[24,30]},{"text":"map","type":"Identifier","range":[34,37]},{"text":"flatMap","type":"Identifier","range":[41,48]},{"text":"take","type":"Identifier","range":[52,56]},{"text":"takeUntil","type":"Identifier","range":[60,69]},{"text":"takeWhile","type":"Identifier","range":[73,82]},{"text":"from","type":"Identifier","range":[86,90]},{"text":"\"..\"","type":"String","range":[91,95]},{"text":"describe","type":"Identifier","range":[98,106]},{"text":"\"transduce\"","type":"String","range":[107,118]},{"text":"it","type":"Identifier","range":[130,132]},{"text":"\"map\"","type":"String","range":[133,138]},{"text":"const","type":"Keyword","range":[152,157]},{"text":"original","type":"Identifier","range":[158,166]},{"text":"1","type":"Numeric","range":[170,171]},{"text":"2","type":"Numeric","range":[173,174]},{"text":"3","type":"Numeric","range":[176,177]},{"text":"const","type":"Keyword","range":[184,189]},{"text":"mapper","type":"Identifier","range":[190,196]},{"text":"v","type":"Identifier","range":[200,201]},{"text":"number","type":"Identifier","range":[203,209]},{"text":"v","type":"Identifier","range":[214,215]},{"text":"1","type":"Numeric","range":[218,219]},{"text":"const","type":"Keyword","range":[225,230]},{"text":"result","type":"Identifier","range":[231,237]},{"text":"transduce","type":"Identifier","range":[240,249]},{"text":"original","type":"Identifier","range":[250,258]},{"text":"map","type":"Identifier","range":[260,263]},{"text":"mapper","type":"Identifier","range":[264,270]},{"text":"const","type":"Keyword","range":[278,283]},{"text":"expected","type":"Identifier","range":[284,292]},{"text":"original","type":"Identifier","range":[295,303]},{"text":"map","type":"Identifier","range":[304,307]},{"text":"mapper","type":"Identifier","range":[308,314]},{"text":"expect","type":"Identifier","range":[321,327]},{"text":"result","type":"Identifier","range":[328,334]},{"text":"toEqual","type":"Identifier","range":[336,343]},{"text":"expected","type":"Identifier","range":[344,352]},{"text":"it","type":"Identifier","range":[364,366]},{"text":"\"filter\"","type":"String","range":[367,375]},{"text":"const","type":"Keyword","range":[389,394]},{"text":"original","type":"Identifier","range":[395,403]},{"text":"1","type":"Numeric","range":[407,408]},{"text":"2","type":"Numeric","range":[410,411]},{"text":"3","type":"Numeric","range":[413,414]},{"text":"const","type":"Keyword","range":[421,426]},{"text":"predicate","type":"Identifier","range":[427,436]},{"text":"v","type":"Identifier","range":[440,441]},{"text":"number","type":"Identifier","range":[443,449]},{"text":"v","type":"Identifier","range":[454,455]},{"text":"1","type":"Numeric","range":[458,459]},{"text":"const","type":"Keyword","range":[465,470]},{"text":"result","type":"Identifier","range":[471,477]},{"text":"transduce","type":"Identifier","range":[480,489]},{"text":"original","type":"Identifier","range":[490,498]},{"text":"filter","type":"Identifier","range":[500,506]},{"text":"predicate","type":"Identifier","range":[507,516]},{"text":"const","type":"Keyword","range":[524,529]},{"text":"expected","type":"Identifier","range":[530,538]},{"text":"original","type":"Identifier","range":[541,549]},{"text":"filter","type":"Identifier","range":[550,556]},{"text":"predicate","type":"Identifier","range":[557,566]},{"text":"expect","type":"Identifier","range":[573,579]},{"text":"result","type":"Identifier","range":[580,586]},{"text":"toEqual","type":"Identifier","range":[588,595]},{"text":"expected","type":"Identifier","range":[596,604]},{"text":"it","type":"Identifier","range":[616,618]},{"text":"\"flatMap\"","type":"String","range":[619,628]},{"text":"const","type":"Keyword","range":[642,647]},{"text":"original","type":"Identifier","range":[648,656]},{"text":"1","type":"Numeric","range":[660,661]},{"text":"2","type":"Numeric","range":[663,664]},{"text":"3","type":"Numeric","range":[666,667]},{"text":"const","type":"Keyword","range":[674,679]},{"text":"nested","type":"Identifier","range":[680,686]},{"text":"original","type":"Identifier","range":[689,697]},{"text":"map","type":"Identifier","range":[698,701]},{"text":"v","type":"Identifier","range":[702,703]},{"text":"v","type":"Identifier","range":[708,709]},{"text":"const","type":"Keyword","range":[717,722]},{"text":"mapper","type":"Identifier","range":[723,729]},{"text":"T","type":"Identifier","range":[733,734]},{"text":"v","type":"Identifier","range":[736,737]},{"text":"T","type":"Identifier","range":[739,740]},{"text":"v","type":"Identifier","range":[745,746]},{"text":" with nested arrays","type":"Line","range":[752,773]},{"text":"let","type":"Keyword","range":[778,781]},{"text":"result","type":"Identifier","range":[782,788]},{"text":"transduce","type":"Identifier","range":[791,800]},{"text":"nested","type":"Identifier","range":[801,807]},{"text":"flatMap","type":"Identifier","range":[809,816]},{"text":"mapper","type":"Identifier","range":[817,823]},{"text":"let","type":"Keyword","range":[831,834]},{"text":"expected","type":"Identifier","range":[835,843]},{"text":"nested","type":"Identifier","range":[846,852]},{"text":"flatMap","type":"Identifier","range":[853,860]},{"text":"mapper","type":"Identifier","range":[861,867]},{"text":"expect","type":"Identifier","range":[874,880]},{"text":"result","type":"Identifier","range":[881,887]},{"text":"toEqual","type":"Identifier","range":[889,896]},{"text":"expected","type":"Identifier","range":[897,905]},{"text":" with flat arrays","type":"Line","range":[912,931]},{"text":"result","type":"Identifier","range":[936,942]},{"text":"transduce","type":"Identifier","range":[945,954]},{"text":"original","type":"Identifier","range":[955,963]},{"text":"flatMap","type":"Identifier","range":[965,972]},{"text":"mapper","type":"Identifier","range":[973,979]},{"text":"expected","type":"Identifier","range":[987,995]},{"text":"original","type":"Identifier","range":[998,1006]},{"text":"flatMap","type":"Identifier","range":[1007,1014]},{"text":"mapper","type":"Identifier","range":[1015,1021]},{"text":"expect","type":"Identifier","range":[1028,1034]},{"text":"result","type":"Identifier","range":[1035,1041]},{"text":"toEqual","type":"Identifier","range":[1043,1050]},{"text":"expected","type":"Identifier","range":[1051,1059]},{"text":"it","type":"Identifier","range":[1071,1073]},{"text":"\"take\"","type":"String","range":[1074,1080]},{"text":"const","type":"Keyword","range":[1094,1099]},{"text":"original","type":"Identifier","range":[1100,1108]},{"text":"1","type":"Numeric","range":[1112,1113]},{"text":"2","type":"Numeric","range":[1115,1116]},{"text":"3","type":"Numeric","range":[1118,1119]},{"text":"4","type":"Numeric","range":[1121,1122]},{"text":"5","type":"Numeric","range":[1124,1125]},{"text":"const","type":"Keyword","range":[1132,1137]},{"text":"result","type":"Identifier","range":[1138,1144]},{"text":"transduce","type":"Identifier","range":[1147,1156]},{"text":"original","type":"Identifier","range":[1157,1165]},{"text":"take","type":"Identifier","range":[1167,1171]},{"text":"3","type":"Numeric","range":[1172,1173]},{"text":"expect","type":"Identifier","range":[1181,1187]},{"text":"result","type":"Identifier","range":[1188,1194]},{"text":"toEqual","type":"Identifier","range":[1196,1203]},{"text":"1","type":"Numeric","range":[1205,1206]},{"text":"2","type":"Numeric","range":[1208,1209]},{"text":"3","type":"Numeric","range":[1211,1212]},{"text":"it","type":"Identifier","range":[1225,1227]},{"text":"\"takeUntil\"","type":"String","range":[1228,1239]},{"text":"const","type":"Keyword","range":[1253,1258]},{"text":"original","type":"Identifier","range":[1259,1267]},{"text":"1","type":"Numeric","range":[1271,1272]},{"text":"2","type":"Numeric","range":[1274,1275]},{"text":"3","type":"Numeric","range":[1277,1278]},{"text":"\"adf\"","type":"String","range":[1280,1285]},{"text":"5","type":"Numeric","range":[1287,1288]},{"text":" with flat arrays","type":"Line","range":[1296,1315]},{"text":"const","type":"Keyword","range":[1320,1325]},{"text":"result","type":"Identifier","range":[1326,1332]},{"text":"transduce","type":"Identifier","range":[1335,1344]},{"text":"original","type":"Identifier","range":[1352,1360]},{"text":"takeUntil","type":"Identifier","range":[1368,1377]},{"text":"v","type":"Identifier","range":[1378,1379]},{"text":"typeof","type":"Keyword","range":[1383,1389]},{"text":"v","type":"Identifier","range":[1390,1391]},{"text":"\"string\"","type":"String","range":[1396,1404]},{"text":"expect","type":"Identifier","range":[1417,1423]},{"text":"result","type":"Identifier","range":[1424,1430]},{"text":"toEqual","type":"Identifier","range":[1432,1439]},{"text":"1","type":"Numeric","range":[1441,1442]},{"text":"2","type":"Numeric","range":[1444,1445]},{"text":"3","type":"Numeric","range":[1447,1448]},{"text":"it","type":"Identifier","range":[1461,1463]},{"text":"\"takeWhile\"","type":"String","range":[1464,1475]},{"text":"const","type":"Keyword","range":[1489,1494]},{"text":"original","type":"Identifier","range":[1495,1503]},{"text":"1","type":"Numeric","range":[1507,1508]},{"text":"2","type":"Numeric","range":[1510,1511]},{"text":"3","type":"Numeric","range":[1513,1514]},{"text":"\"adf\"","type":"String","range":[1516,1521]},{"text":"5","type":"Numeric","range":[1523,1524]},{"text":" with flat arrays","type":"Line","range":[1532,1551]},{"text":"const","type":"Keyword","range":[1556,1561]},{"text":"result","type":"Identifier","range":[1562,1568]},{"text":"transduce","type":"Identifier","range":[1571,1580]},{"text":"original","type":"Identifier","range":[1588,1596]},{"text":"takeWhile","type":"Identifier","range":[1604,1613]},{"text":"v","type":"Identifier","range":[1614,1615]},{"text":"typeof","type":"Keyword","range":[1619,1625]},{"text":"v","type":"Identifier","range":[1626,1627]},{"text":"\"number\"","type":"String","range":[1632,1640]},{"text":"expect","type":"Identifier","range":[1653,1659]},{"text":"result","type":"Identifier","range":[1660,1666]},{"text":"toEqual","type":"Identifier","range":[1668,1675]},{"text":"1","type":"Numeric","range":[1677,1678]},{"text":"2","type":"Numeric","range":[1680,1681]},{"text":"3","type":"Numeric","range":[1683,1684]},{"text":"it","type":"Identifier","range":[1697,1699]},{"text":"\"combination\"","type":"String","range":[1700,1713]},{"text":"const","type":"Keyword","range":[1727,1732]},{"text":"original","type":"Identifier","range":[1733,1741]},{"text":"1","type":"Numeric","range":[1745,1746]},{"text":"2","type":"Numeric","range":[1748,1749]},{"text":"3","type":"Numeric","range":[1751,1752]},{"text":"5","type":"Numeric","range":[1754,1755]},{"text":"6","type":"Numeric","range":[1757,1758]},{"text":"7","type":"Numeric","range":[1760,1761]},{"text":"const","type":"Keyword","range":[1768,1773]},{"text":"result","type":"Identifier","range":[1774,1780]},{"text":"transduce","type":"Identifier","range":[1783,1792]},{"text":"original","type":"Identifier","range":[1800,1808]},{"text":"filter","type":"Identifier","range":[1816,1822]},{"text":"v","type":"Identifier","range":[1823,1824]},{"text":"v","type":"Identifier","range":[1828,1829]},{"text":"1","type":"Numeric","range":[1832,1833]},{"text":"map","type":"Identifier","range":[1842,1845]},{"text":"v","type":"Identifier","range":[1846,1847]},{"text":"v","type":"Identifier","range":[1852,1853]},{"text":"1","type":"Numeric","range":[1856,1857]},{"text":"flatMap","type":"Identifier","range":[1867,1874]},{"text":"v","type":"Identifier","range":[1875,1876]},{"text":"v","type":"Identifier","range":[1880,1881]},{"text":"const","type":"Keyword","range":[1894,1899]},{"text":"expected","type":"Identifier","range":[1900,1908]},{"text":"original","type":"Identifier","range":[1911,1919]},{"text":"filter","type":"Identifier","range":[1927,1933]},{"text":"v","type":"Identifier","range":[1934,1935]},{"text":"v","type":"Identifier","range":[1939,1940]},{"text":"1","type":"Numeric","range":[1943,1944]},{"text":"map","type":"Identifier","range":[1953,1956]},{"text":"v","type":"Identifier","range":[1957,1958]},{"text":"v","type":"Identifier","range":[1963,1964]},{"text":"1","type":"Numeric","range":[1967,1968]},{"text":"flatMap","type":"Identifier","range":[1978,1985]},{"text":"v","type":"Identifier","range":[1986,1987]},{"text":"v","type":"Identifier","range":[1991,1992]},{"text":"expect","type":"Identifier","range":[1999,2005]},{"text":"result","type":"Identifier","range":[2006,2012]},{"text":"toEqual","type":"Identifier","range":[2014,2021]},{"text":"expected","type":"Identifier","range":[2022,2030]},{"text":"it","type":"Identifier","range":[2042,2044]},{"text":"todo","type":"Identifier","range":[2045,2049]},{"text":"\"correctly passes additional arguments into combiner\"","type":"String","range":[2050,2103]}]}