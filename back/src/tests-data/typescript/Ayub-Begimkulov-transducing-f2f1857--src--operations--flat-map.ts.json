{"type":"typescript","text":"import { ArrayCombiner } from \"../types\";\nimport { toArray } from \"../utils\";\n\nexport const flatMap =\n  <T, R>(mapper: (val: T) => R | ReadonlyArray<R>) =>\n  (combiner: ArrayCombiner<R>) =>\n  (acc: R[], c: T, exit: () => void) => {\n    const mappedValue = toArray(mapper(c));\n    return mappedValue.reduce((acc, v) => combiner(acc, v, exit), acc);\n  };","words":[{"text":"import","type":"Keyword","range":[0,6]},{"text":"ArrayCombiner","type":"Identifier","range":[9,22]},{"text":"from","type":"Identifier","range":[25,29]},{"text":"\"../types\"","type":"String","range":[30,40]},{"text":"import","type":"Keyword","range":[42,48]},{"text":"toArray","type":"Identifier","range":[51,58]},{"text":"from","type":"Identifier","range":[61,65]},{"text":"\"../utils\"","type":"String","range":[66,76]},{"text":"export","type":"Keyword","range":[79,85]},{"text":"const","type":"Keyword","range":[86,91]},{"text":"flatMap","type":"Identifier","range":[92,99]},{"text":"T","type":"Identifier","range":[105,106]},{"text":"R","type":"Identifier","range":[108,109]},{"text":"mapper","type":"Identifier","range":[111,117]},{"text":"val","type":"Identifier","range":[120,123]},{"text":"T","type":"Identifier","range":[125,126]},{"text":"R","type":"Identifier","range":[131,132]},{"text":"ReadonlyArray","type":"Identifier","range":[135,148]},{"text":"R","type":"Identifier","range":[149,150]},{"text":"combiner","type":"Identifier","range":[159,167]},{"text":"ArrayCombiner","type":"Identifier","range":[169,182]},{"text":"R","type":"Identifier","range":[183,184]},{"text":"acc","type":"Identifier","range":[193,196]},{"text":"R","type":"Identifier","range":[198,199]},{"text":"c","type":"Identifier","range":[203,204]},{"text":"T","type":"Identifier","range":[206,207]},{"text":"exit","type":"Identifier","range":[209,213]},{"text":"void","type":"Keyword","range":[221,225]},{"text":"const","type":"Keyword","range":[236,241]},{"text":"mappedValue","type":"Identifier","range":[242,253]},{"text":"toArray","type":"Identifier","range":[256,263]},{"text":"mapper","type":"Identifier","range":[264,270]},{"text":"c","type":"Identifier","range":[271,272]},{"text":"return","type":"Keyword","range":[280,286]},{"text":"mappedValue","type":"Identifier","range":[287,298]},{"text":"reduce","type":"Identifier","range":[299,305]},{"text":"acc","type":"Identifier","range":[307,310]},{"text":"v","type":"Identifier","range":[312,313]},{"text":"combiner","type":"Identifier","range":[318,326]},{"text":"acc","type":"Identifier","range":[327,330]},{"text":"v","type":"Identifier","range":[332,333]},{"text":"exit","type":"Identifier","range":[335,339]},{"text":"acc","type":"Identifier","range":[342,345]}]}