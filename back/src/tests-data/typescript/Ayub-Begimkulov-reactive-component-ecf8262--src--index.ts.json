{"type":"typescript","text":"import { observable } from \"./observable\";\nimport { Component, onBeforeDestroy } from \"./component\";\nimport { showIf, dynamicClasses, watchEffect, listen } from \"./component\";\n\nconst useCounter = ({\n  count,\n  incrementButton,\n  decrementButton,\n}: Record<string, Element>) => {\n  const counter = observable({\n    value: 0,\n  });\n\n  watchEffect(() => {\n    count.textContent = \"\" + counter.value;\n  });\n\n  dynamicClasses(count, {\n    zero: () => counter.value === 0,\n    negative: () => counter.value < 0,\n    positive: () => counter.value > 0,\n  });\n\n  const increment = () => counter.value++;\n  const decrement = () => counter.value--;\n  const isPositive = () => counter.value > 0;\n\n  listen(incrementButton, \"click\", increment);\n  listen(decrementButton, \"click\", decrement);\n\n  showIf(decrementButton as HTMLElement, isPositive);\n};\n\nnew Component({\n  root: \"#app\",\n  elements: {\n    input: \"#input\",\n    text: \"#text\",\n    incrementButton: \"#inc-btn\",\n    decrementButton: \"#dec-btn\",\n    count: \"#count\",\n  },\n  setup({ elements }) {\n    const { input } = elements;\n\n    const user = observable({\n      name: \"hello\",\n      age: 16,\n    });\n\n    useCounter(elements);\n\n    const onInput = (e: Event) => {\n      const value = (e.target as HTMLInputElement).value;\n      user.name = value;\n    };\n\n    listen(input, \"input\", onInput);\n\n    onBeforeDestroy(() => {});\n\n    return { user, onInput };\n  },\n});","words":[{"text":"import","type":"Keyword","range":[0,6]},{"text":"observable","type":"Identifier","range":[9,19]},{"text":"from","type":"Identifier","range":[22,26]},{"text":"\"./observable\"","type":"String","range":[27,41]},{"text":"import","type":"Keyword","range":[43,49]},{"text":"Component","type":"Identifier","range":[52,61]},{"text":"onBeforeDestroy","type":"Identifier","range":[63,78]},{"text":"from","type":"Identifier","range":[81,85]},{"text":"\"./component\"","type":"String","range":[86,99]},{"text":"import","type":"Keyword","range":[101,107]},{"text":"showIf","type":"Identifier","range":[110,116]},{"text":"dynamicClasses","type":"Identifier","range":[118,132]},{"text":"watchEffect","type":"Identifier","range":[134,145]},{"text":"listen","type":"Identifier","range":[147,153]},{"text":"from","type":"Identifier","range":[156,160]},{"text":"\"./component\"","type":"String","range":[161,174]},{"text":"const","type":"Keyword","range":[177,182]},{"text":"useCounter","type":"Identifier","range":[183,193]},{"text":"count","type":"Identifier","range":[201,206]},{"text":"incrementButton","type":"Identifier","range":[210,225]},{"text":"decrementButton","type":"Identifier","range":[229,244]},{"text":"Record","type":"Identifier","range":[249,255]},{"text":"string","type":"Identifier","range":[256,262]},{"text":"Element","type":"Identifier","range":[264,271]},{"text":"const","type":"Keyword","range":[281,286]},{"text":"counter","type":"Identifier","range":[287,294]},{"text":"observable","type":"Identifier","range":[297,307]},{"text":"value","type":"Identifier","range":[314,319]},{"text":"0","type":"Numeric","range":[321,322]},{"text":"watchEffect","type":"Identifier","range":[333,344]},{"text":"count","type":"Identifier","range":[357,362]},{"text":"textContent","type":"Identifier","range":[363,374]},{"text":"\"\"","type":"String","range":[377,379]},{"text":"counter","type":"Identifier","range":[382,389]},{"text":"value","type":"Identifier","range":[390,395]},{"text":"dynamicClasses","type":"Identifier","range":[406,420]},{"text":"count","type":"Identifier","range":[421,426]},{"text":"zero","type":"Identifier","range":[434,438]},{"text":"counter","type":"Identifier","range":[446,453]},{"text":"value","type":"Identifier","range":[454,459]},{"text":"0","type":"Numeric","range":[464,465]},{"text":"negative","type":"Identifier","range":[471,479]},{"text":"counter","type":"Identifier","range":[487,494]},{"text":"value","type":"Identifier","range":[495,500]},{"text":"0","type":"Numeric","range":[503,504]},{"text":"positive","type":"Identifier","range":[510,518]},{"text":"counter","type":"Identifier","range":[526,533]},{"text":"value","type":"Identifier","range":[534,539]},{"text":"0","type":"Numeric","range":[542,543]},{"text":"const","type":"Keyword","range":[554,559]},{"text":"increment","type":"Identifier","range":[560,569]},{"text":"counter","type":"Identifier","range":[578,585]},{"text":"value","type":"Identifier","range":[586,591]},{"text":"const","type":"Keyword","range":[597,602]},{"text":"decrement","type":"Identifier","range":[603,612]},{"text":"counter","type":"Identifier","range":[621,628]},{"text":"value","type":"Identifier","range":[629,634]},{"text":"const","type":"Keyword","range":[640,645]},{"text":"isPositive","type":"Identifier","range":[646,656]},{"text":"counter","type":"Identifier","range":[665,672]},{"text":"value","type":"Identifier","range":[673,678]},{"text":"0","type":"Numeric","range":[681,682]},{"text":"listen","type":"Identifier","range":[687,693]},{"text":"incrementButton","type":"Identifier","range":[694,709]},{"text":"\"click\"","type":"String","range":[711,718]},{"text":"increment","type":"Identifier","range":[720,729]},{"text":"listen","type":"Identifier","range":[734,740]},{"text":"decrementButton","type":"Identifier","range":[741,756]},{"text":"\"click\"","type":"String","range":[758,765]},{"text":"decrement","type":"Identifier","range":[767,776]},{"text":"showIf","type":"Identifier","range":[782,788]},{"text":"decrementButton","type":"Identifier","range":[789,804]},{"text":"as","type":"Identifier","range":[805,807]},{"text":"HTMLElement","type":"Identifier","range":[808,819]},{"text":"isPositive","type":"Identifier","range":[821,831]},{"text":"new","type":"Keyword","range":[838,841]},{"text":"Component","type":"Identifier","range":[842,851]},{"text":"root","type":"Identifier","range":[856,860]},{"text":"\"#app\"","type":"String","range":[862,868]},{"text":"elements","type":"Identifier","range":[872,880]},{"text":"input","type":"Identifier","range":[888,893]},{"text":"\"#input\"","type":"String","range":[895,903]},{"text":"text","type":"Identifier","range":[909,913]},{"text":"\"#text\"","type":"String","range":[915,922]},{"text":"incrementButton","type":"Identifier","range":[928,943]},{"text":"\"#inc-btn\"","type":"String","range":[945,955]},{"text":"decrementButton","type":"Identifier","range":[961,976]},{"text":"\"#dec-btn\"","type":"String","range":[978,988]},{"text":"count","type":"Identifier","range":[994,999]},{"text":"\"#count\"","type":"String","range":[1001,1009]},{"text":"setup","type":"Identifier","range":[1018,1023]},{"text":"elements","type":"Identifier","range":[1026,1034]},{"text":"const","type":"Keyword","range":[1044,1049]},{"text":"input","type":"Identifier","range":[1052,1057]},{"text":"elements","type":"Identifier","range":[1062,1070]},{"text":"const","type":"Keyword","range":[1077,1082]},{"text":"user","type":"Identifier","range":[1083,1087]},{"text":"observable","type":"Identifier","range":[1090,1100]},{"text":"name","type":"Identifier","range":[1109,1113]},{"text":"\"hello\"","type":"String","range":[1115,1122]},{"text":"age","type":"Identifier","range":[1130,1133]},{"text":"16","type":"Numeric","range":[1135,1137]},{"text":"useCounter","type":"Identifier","range":[1152,1162]},{"text":"elements","type":"Identifier","range":[1163,1171]},{"text":"const","type":"Keyword","range":[1179,1184]},{"text":"onInput","type":"Identifier","range":[1185,1192]},{"text":"e","type":"Identifier","range":[1196,1197]},{"text":"Event","type":"Identifier","range":[1199,1204]},{"text":"const","type":"Keyword","range":[1217,1222]},{"text":"value","type":"Identifier","range":[1223,1228]},{"text":"e","type":"Identifier","range":[1232,1233]},{"text":"target","type":"Identifier","range":[1234,1240]},{"text":"as","type":"Identifier","range":[1241,1243]},{"text":"HTMLInputElement","type":"Identifier","range":[1244,1260]},{"text":"value","type":"Identifier","range":[1262,1267]},{"text":"user","type":"Identifier","range":[1275,1279]},{"text":"name","type":"Identifier","range":[1280,1284]},{"text":"value","type":"Identifier","range":[1287,1292]},{"text":"listen","type":"Identifier","range":[1306,1312]},{"text":"input","type":"Identifier","range":[1313,1318]},{"text":"\"input\"","type":"String","range":[1320,1327]},{"text":"onInput","type":"Identifier","range":[1329,1336]},{"text":"onBeforeDestroy","type":"Identifier","range":[1344,1359]},{"text":"return","type":"Keyword","range":[1376,1382]},{"text":"user","type":"Identifier","range":[1385,1389]},{"text":"onInput","type":"Identifier","range":[1391,1398]}]}