{"type":"typescript","text":"import { compose } from \"./compose\";\nimport { NoInfer, Transducer } from \"./types\";\nimport { pushCombiner } from \"./utils\";\n\n// added NoInfer so that next operation\n// doesn't change generic type of the previous one\nexport function transduce<A, R>(\n  arr: A[],\n  transducer: Transducer<NoInfer<A>, R>\n): R[];\nexport function transduce<A, B, R>(\n  arr: A[],\n  transducer1: Transducer<NoInfer<A>, B>,\n  transducer2: Transducer<NoInfer<B>, R>\n): R[];\nexport function transduce<A, B, C, R>(\n  arr: A[],\n  transducer1: Transducer<NoInfer<A>, B>,\n  transducer2: Transducer<NoInfer<B>, C>,\n  transducer3: Transducer<NoInfer<C>, R>\n): R[];\nexport function transduce<A, B, C, D, R>(\n  arr: A[],\n  transducer1: Transducer<NoInfer<A>, B>,\n  transducer2: Transducer<NoInfer<B>, C>,\n  transducer3: Transducer<NoInfer<C>, D>,\n  transducer4: Transducer<NoInfer<D>, R>\n): R[];\nexport function transduce<A, B, C, D, E, R>(\n  arr: A[],\n  transducer1: Transducer<NoInfer<A>, B>,\n  transducer2: Transducer<NoInfer<B>, C>,\n  transducer3: Transducer<NoInfer<C>, D>,\n  transducer4: Transducer<NoInfer<D>, E>,\n  transducer5: Transducer<NoInfer<E>, R>\n): R[];\nexport function transduce<A, B, C, D, E, F, R>(\n  arr: A[],\n  transducer1: Transducer<NoInfer<A>, B>,\n  transducer2: Transducer<NoInfer<B>, C>,\n  transducer3: Transducer<NoInfer<C>, D>,\n  transducer4: Transducer<NoInfer<D>, E>,\n  transducer5: Transducer<NoInfer<E>, F>,\n  transducer6: Transducer<NoInfer<F>, R>\n): R[];\nexport function transduce<A, B, C, D, E, F, G, R>(\n  arr: A[],\n  transducer1: Transducer<NoInfer<A>, B>,\n  transducer2: Transducer<NoInfer<B>, C>,\n  transducer3: Transducer<NoInfer<C>, D>,\n  transducer4: Transducer<NoInfer<D>, E>,\n  transducer5: Transducer<NoInfer<E>, F>,\n  transducer6: Transducer<NoInfer<F>, G>,\n  transducer7: Transducer<NoInfer<G>, R>\n): R[];\nexport function transduce(arr: any[], ...transducers: Transducer<any, any>[]) {\n  const reducer = compose.apply(null, transducers)(pushCombiner);\n  const result: unknown[] = [];\n  let exited = false;\n  const exit = () => (exited = true);\n  for (let i = 0, l = arr.length; i < l; i++) {\n    if (exited) break;\n    reducer(result, arr[i], exit);\n  }\n  return result;\n}","words":[{"text":"import","type":"Keyword","range":[0,6]},{"text":"compose","type":"Identifier","range":[9,16]},{"text":"from","type":"Identifier","range":[19,23]},{"text":"\"./compose\"","type":"String","range":[24,35]},{"text":"import","type":"Keyword","range":[37,43]},{"text":"NoInfer","type":"Identifier","range":[46,53]},{"text":"Transducer","type":"Identifier","range":[55,65]},{"text":"from","type":"Identifier","range":[68,72]},{"text":"\"./types\"","type":"String","range":[73,82]},{"text":"import","type":"Keyword","range":[84,90]},{"text":"pushCombiner","type":"Identifier","range":[93,105]},{"text":"from","type":"Identifier","range":[108,112]},{"text":"\"./utils\"","type":"String","range":[113,122]},{"text":" added NoInfer so that next operation","type":"Line","range":[125,164]},{"text":" doesn't change generic type of the previous one","type":"Line","range":[165,215]},{"text":"export","type":"Keyword","range":[216,222]},{"text":"function","type":"Keyword","range":[223,231]},{"text":"transduce","type":"Identifier","range":[232,241]},{"text":"A","type":"Identifier","range":[242,243]},{"text":"R","type":"Identifier","range":[245,246]},{"text":"arr","type":"Identifier","range":[251,254]},{"text":"A","type":"Identifier","range":[256,257]},{"text":"transducer","type":"Identifier","range":[263,273]},{"text":"Transducer","type":"Identifier","range":[275,285]},{"text":"NoInfer","type":"Identifier","range":[286,293]},{"text":"A","type":"Identifier","range":[294,295]},{"text":"R","type":"Identifier","range":[298,299]},{"text":"R","type":"Identifier","range":[304,305]},{"text":"export","type":"Keyword","range":[309,315]},{"text":"function","type":"Keyword","range":[316,324]},{"text":"transduce","type":"Identifier","range":[325,334]},{"text":"A","type":"Identifier","range":[335,336]},{"text":"B","type":"Identifier","range":[338,339]},{"text":"R","type":"Identifier","range":[341,342]},{"text":"arr","type":"Identifier","range":[347,350]},{"text":"A","type":"Identifier","range":[352,353]},{"text":"transducer1","type":"Identifier","range":[359,370]},{"text":"Transducer","type":"Identifier","range":[372,382]},{"text":"NoInfer","type":"Identifier","range":[383,390]},{"text":"A","type":"Identifier","range":[391,392]},{"text":"B","type":"Identifier","range":[395,396]},{"text":"transducer2","type":"Identifier","range":[401,412]},{"text":"Transducer","type":"Identifier","range":[414,424]},{"text":"NoInfer","type":"Identifier","range":[425,432]},{"text":"B","type":"Identifier","range":[433,434]},{"text":"R","type":"Identifier","range":[437,438]},{"text":"R","type":"Identifier","range":[443,444]},{"text":"export","type":"Keyword","range":[448,454]},{"text":"function","type":"Keyword","range":[455,463]},{"text":"transduce","type":"Identifier","range":[464,473]},{"text":"A","type":"Identifier","range":[474,475]},{"text":"B","type":"Identifier","range":[477,478]},{"text":"C","type":"Identifier","range":[480,481]},{"text":"R","type":"Identifier","range":[483,484]},{"text":"arr","type":"Identifier","range":[489,492]},{"text":"A","type":"Identifier","range":[494,495]},{"text":"transducer1","type":"Identifier","range":[501,512]},{"text":"Transducer","type":"Identifier","range":[514,524]},{"text":"NoInfer","type":"Identifier","range":[525,532]},{"text":"A","type":"Identifier","range":[533,534]},{"text":"B","type":"Identifier","range":[537,538]},{"text":"transducer2","type":"Identifier","range":[543,554]},{"text":"Transducer","type":"Identifier","range":[556,566]},{"text":"NoInfer","type":"Identifier","range":[567,574]},{"text":"B","type":"Identifier","range":[575,576]},{"text":"C","type":"Identifier","range":[579,580]},{"text":"transducer3","type":"Identifier","range":[585,596]},{"text":"Transducer","type":"Identifier","range":[598,608]},{"text":"NoInfer","type":"Identifier","range":[609,616]},{"text":"C","type":"Identifier","range":[617,618]},{"text":"R","type":"Identifier","range":[621,622]},{"text":"R","type":"Identifier","range":[627,628]},{"text":"export","type":"Keyword","range":[632,638]},{"text":"function","type":"Keyword","range":[639,647]},{"text":"transduce","type":"Identifier","range":[648,657]},{"text":"A","type":"Identifier","range":[658,659]},{"text":"B","type":"Identifier","range":[661,662]},{"text":"C","type":"Identifier","range":[664,665]},{"text":"D","type":"Identifier","range":[667,668]},{"text":"R","type":"Identifier","range":[670,671]},{"text":"arr","type":"Identifier","range":[676,679]},{"text":"A","type":"Identifier","range":[681,682]},{"text":"transducer1","type":"Identifier","range":[688,699]},{"text":"Transducer","type":"Identifier","range":[701,711]},{"text":"NoInfer","type":"Identifier","range":[712,719]},{"text":"A","type":"Identifier","range":[720,721]},{"text":"B","type":"Identifier","range":[724,725]},{"text":"transducer2","type":"Identifier","range":[730,741]},{"text":"Transducer","type":"Identifier","range":[743,753]},{"text":"NoInfer","type":"Identifier","range":[754,761]},{"text":"B","type":"Identifier","range":[762,763]},{"text":"C","type":"Identifier","range":[766,767]},{"text":"transducer3","type":"Identifier","range":[772,783]},{"text":"Transducer","type":"Identifier","range":[785,795]},{"text":"NoInfer","type":"Identifier","range":[796,803]},{"text":"C","type":"Identifier","range":[804,805]},{"text":"D","type":"Identifier","range":[808,809]},{"text":"transducer4","type":"Identifier","range":[814,825]},{"text":"Transducer","type":"Identifier","range":[827,837]},{"text":"NoInfer","type":"Identifier","range":[838,845]},{"text":"D","type":"Identifier","range":[846,847]},{"text":"R","type":"Identifier","range":[850,851]},{"text":"R","type":"Identifier","range":[856,857]},{"text":"export","type":"Keyword","range":[861,867]},{"text":"function","type":"Keyword","range":[868,876]},{"text":"transduce","type":"Identifier","range":[877,886]},{"text":"A","type":"Identifier","range":[887,888]},{"text":"B","type":"Identifier","range":[890,891]},{"text":"C","type":"Identifier","range":[893,894]},{"text":"D","type":"Identifier","range":[896,897]},{"text":"E","type":"Identifier","range":[899,900]},{"text":"R","type":"Identifier","range":[902,903]},{"text":"arr","type":"Identifier","range":[908,911]},{"text":"A","type":"Identifier","range":[913,914]},{"text":"transducer1","type":"Identifier","range":[920,931]},{"text":"Transducer","type":"Identifier","range":[933,943]},{"text":"NoInfer","type":"Identifier","range":[944,951]},{"text":"A","type":"Identifier","range":[952,953]},{"text":"B","type":"Identifier","range":[956,957]},{"text":"transducer2","type":"Identifier","range":[962,973]},{"text":"Transducer","type":"Identifier","range":[975,985]},{"text":"NoInfer","type":"Identifier","range":[986,993]},{"text":"B","type":"Identifier","range":[994,995]},{"text":"C","type":"Identifier","range":[998,999]},{"text":"transducer3","type":"Identifier","range":[1004,1015]},{"text":"Transducer","type":"Identifier","range":[1017,1027]},{"text":"NoInfer","type":"Identifier","range":[1028,1035]},{"text":"C","type":"Identifier","range":[1036,1037]},{"text":"D","type":"Identifier","range":[1040,1041]},{"text":"transducer4","type":"Identifier","range":[1046,1057]},{"text":"Transducer","type":"Identifier","range":[1059,1069]},{"text":"NoInfer","type":"Identifier","range":[1070,1077]},{"text":"D","type":"Identifier","range":[1078,1079]},{"text":"E","type":"Identifier","range":[1082,1083]},{"text":"transducer5","type":"Identifier","range":[1088,1099]},{"text":"Transducer","type":"Identifier","range":[1101,1111]},{"text":"NoInfer","type":"Identifier","range":[1112,1119]},{"text":"E","type":"Identifier","range":[1120,1121]},{"text":"R","type":"Identifier","range":[1124,1125]},{"text":"R","type":"Identifier","range":[1130,1131]},{"text":"export","type":"Keyword","range":[1135,1141]},{"text":"function","type":"Keyword","range":[1142,1150]},{"text":"transduce","type":"Identifier","range":[1151,1160]},{"text":"A","type":"Identifier","range":[1161,1162]},{"text":"B","type":"Identifier","range":[1164,1165]},{"text":"C","type":"Identifier","range":[1167,1168]},{"text":"D","type":"Identifier","range":[1170,1171]},{"text":"E","type":"Identifier","range":[1173,1174]},{"text":"F","type":"Identifier","range":[1176,1177]},{"text":"R","type":"Identifier","range":[1179,1180]},{"text":"arr","type":"Identifier","range":[1185,1188]},{"text":"A","type":"Identifier","range":[1190,1191]},{"text":"transducer1","type":"Identifier","range":[1197,1208]},{"text":"Transducer","type":"Identifier","range":[1210,1220]},{"text":"NoInfer","type":"Identifier","range":[1221,1228]},{"text":"A","type":"Identifier","range":[1229,1230]},{"text":"B","type":"Identifier","range":[1233,1234]},{"text":"transducer2","type":"Identifier","range":[1239,1250]},{"text":"Transducer","type":"Identifier","range":[1252,1262]},{"text":"NoInfer","type":"Identifier","range":[1263,1270]},{"text":"B","type":"Identifier","range":[1271,1272]},{"text":"C","type":"Identifier","range":[1275,1276]},{"text":"transducer3","type":"Identifier","range":[1281,1292]},{"text":"Transducer","type":"Identifier","range":[1294,1304]},{"text":"NoInfer","type":"Identifier","range":[1305,1312]},{"text":"C","type":"Identifier","range":[1313,1314]},{"text":"D","type":"Identifier","range":[1317,1318]},{"text":"transducer4","type":"Identifier","range":[1323,1334]},{"text":"Transducer","type":"Identifier","range":[1336,1346]},{"text":"NoInfer","type":"Identifier","range":[1347,1354]},{"text":"D","type":"Identifier","range":[1355,1356]},{"text":"E","type":"Identifier","range":[1359,1360]},{"text":"transducer5","type":"Identifier","range":[1365,1376]},{"text":"Transducer","type":"Identifier","range":[1378,1388]},{"text":"NoInfer","type":"Identifier","range":[1389,1396]},{"text":"E","type":"Identifier","range":[1397,1398]},{"text":"F","type":"Identifier","range":[1401,1402]},{"text":"transducer6","type":"Identifier","range":[1407,1418]},{"text":"Transducer","type":"Identifier","range":[1420,1430]},{"text":"NoInfer","type":"Identifier","range":[1431,1438]},{"text":"F","type":"Identifier","range":[1439,1440]},{"text":"R","type":"Identifier","range":[1443,1444]},{"text":"R","type":"Identifier","range":[1449,1450]},{"text":"export","type":"Keyword","range":[1454,1460]},{"text":"function","type":"Keyword","range":[1461,1469]},{"text":"transduce","type":"Identifier","range":[1470,1479]},{"text":"A","type":"Identifier","range":[1480,1481]},{"text":"B","type":"Identifier","range":[1483,1484]},{"text":"C","type":"Identifier","range":[1486,1487]},{"text":"D","type":"Identifier","range":[1489,1490]},{"text":"E","type":"Identifier","range":[1492,1493]},{"text":"F","type":"Identifier","range":[1495,1496]},{"text":"G","type":"Identifier","range":[1498,1499]},{"text":"R","type":"Identifier","range":[1501,1502]},{"text":"arr","type":"Identifier","range":[1507,1510]},{"text":"A","type":"Identifier","range":[1512,1513]},{"text":"transducer1","type":"Identifier","range":[1519,1530]},{"text":"Transducer","type":"Identifier","range":[1532,1542]},{"text":"NoInfer","type":"Identifier","range":[1543,1550]},{"text":"A","type":"Identifier","range":[1551,1552]},{"text":"B","type":"Identifier","range":[1555,1556]},{"text":"transducer2","type":"Identifier","range":[1561,1572]},{"text":"Transducer","type":"Identifier","range":[1574,1584]},{"text":"NoInfer","type":"Identifier","range":[1585,1592]},{"text":"B","type":"Identifier","range":[1593,1594]},{"text":"C","type":"Identifier","range":[1597,1598]},{"text":"transducer3","type":"Identifier","range":[1603,1614]},{"text":"Transducer","type":"Identifier","range":[1616,1626]},{"text":"NoInfer","type":"Identifier","range":[1627,1634]},{"text":"C","type":"Identifier","range":[1635,1636]},{"text":"D","type":"Identifier","range":[1639,1640]},{"text":"transducer4","type":"Identifier","range":[1645,1656]},{"text":"Transducer","type":"Identifier","range":[1658,1668]},{"text":"NoInfer","type":"Identifier","range":[1669,1676]},{"text":"D","type":"Identifier","range":[1677,1678]},{"text":"E","type":"Identifier","range":[1681,1682]},{"text":"transducer5","type":"Identifier","range":[1687,1698]},{"text":"Transducer","type":"Identifier","range":[1700,1710]},{"text":"NoInfer","type":"Identifier","range":[1711,1718]},{"text":"E","type":"Identifier","range":[1719,1720]},{"text":"F","type":"Identifier","range":[1723,1724]},{"text":"transducer6","type":"Identifier","range":[1729,1740]},{"text":"Transducer","type":"Identifier","range":[1742,1752]},{"text":"NoInfer","type":"Identifier","range":[1753,1760]},{"text":"F","type":"Identifier","range":[1761,1762]},{"text":"G","type":"Identifier","range":[1765,1766]},{"text":"transducer7","type":"Identifier","range":[1771,1782]},{"text":"Transducer","type":"Identifier","range":[1784,1794]},{"text":"NoInfer","type":"Identifier","range":[1795,1802]},{"text":"G","type":"Identifier","range":[1803,1804]},{"text":"R","type":"Identifier","range":[1807,1808]},{"text":"R","type":"Identifier","range":[1813,1814]},{"text":"export","type":"Keyword","range":[1818,1824]},{"text":"function","type":"Keyword","range":[1825,1833]},{"text":"transduce","type":"Identifier","range":[1834,1843]},{"text":"arr","type":"Identifier","range":[1844,1847]},{"text":"any","type":"Identifier","range":[1849,1852]},{"text":"transducers","type":"Identifier","range":[1859,1870]},{"text":"Transducer","type":"Identifier","range":[1872,1882]},{"text":"any","type":"Identifier","range":[1883,1886]},{"text":"any","type":"Identifier","range":[1888,1891]},{"text":"const","type":"Keyword","range":[1900,1905]},{"text":"reducer","type":"Identifier","range":[1906,1913]},{"text":"compose","type":"Identifier","range":[1916,1923]},{"text":"apply","type":"Identifier","range":[1924,1929]},{"text":"null","type":"Keyword","range":[1930,1934]},{"text":"transducers","type":"Identifier","range":[1936,1947]},{"text":"pushCombiner","type":"Identifier","range":[1949,1961]},{"text":"const","type":"Keyword","range":[1966,1971]},{"text":"result","type":"Identifier","range":[1972,1978]},{"text":"unknown","type":"Identifier","range":[1980,1987]},{"text":"let","type":"Keyword","range":[1998,2001]},{"text":"exited","type":"Identifier","range":[2002,2008]},{"text":"false","type":"Boolean","range":[2011,2016]},{"text":"const","type":"Keyword","range":[2020,2025]},{"text":"exit","type":"Identifier","range":[2026,2030]},{"text":"exited","type":"Identifier","range":[2040,2046]},{"text":"true","type":"Boolean","range":[2049,2053]},{"text":"for","type":"Keyword","range":[2058,2061]},{"text":"let","type":"Keyword","range":[2063,2066]},{"text":"i","type":"Identifier","range":[2067,2068]},{"text":"0","type":"Numeric","range":[2071,2072]},{"text":"l","type":"Identifier","range":[2074,2075]},{"text":"arr","type":"Identifier","range":[2078,2081]},{"text":"length","type":"Identifier","range":[2082,2088]},{"text":"i","type":"Identifier","range":[2090,2091]},{"text":"l","type":"Identifier","range":[2094,2095]},{"text":"i","type":"Identifier","range":[2097,2098]},{"text":"if","type":"Keyword","range":[2108,2110]},{"text":"exited","type":"Identifier","range":[2112,2118]},{"text":"break","type":"Keyword","range":[2120,2125]},{"text":"reducer","type":"Identifier","range":[2131,2138]},{"text":"result","type":"Identifier","range":[2139,2145]},{"text":"arr","type":"Identifier","range":[2147,2150]},{"text":"i","type":"Identifier","range":[2151,2152]},{"text":"exit","type":"Identifier","range":[2155,2159]},{"text":"return","type":"Keyword","range":[2168,2174]},{"text":"result","type":"Identifier","range":[2175,2181]}]}