{"type":"typescript-jsx","text":"import { render, screen } from '@testing-library/react';\nimport userEvent from '@testing-library/user-event';\nimport { useState } from 'react';\nimport {\n  ACCORDION_MODE_ERROR,\n  Collapse,\n  CollapseItem,\n  CollapseProps,\n} from './Collapse';\n\ninterface TestAppProps {\n  initialOpened?: string[];\n  mode?: CollapseProps['mode'];\n}\n\nconst TestApp = ({ initialOpened = [], mode }: TestAppProps) => {\n  const [opened, setOpened] = useState(initialOpened);\n\n  return (\n    <Collapse openedItems={opened} onChange={setOpened} mode={mode}>\n      <CollapseItem name=\"a\">\n        {props => (\n          <div>\n            <div {...props.headerProps}>A header</div>\n            {props.contentVisible && <div>A content</div>}\n          </div>\n        )}\n      </CollapseItem>\n      <CollapseItem name=\"b\">\n        {props => (\n          <div>\n            <div {...props.headerProps}>B header</div>\n            {props.contentVisible && <div>B content</div>}\n          </div>\n        )}\n      </CollapseItem>\n    </Collapse>\n  );\n};\n\ndescribe('Collapse', () => {\n  it('should show always show headers', () => {\n    render(<TestApp />);\n\n    expect(screen.getByText('A header')).toBeInTheDocument();\n    expect(screen.getByText('B header')).toBeInTheDocument();\n\n    const aContent = screen.queryByText('A content');\n    const bContent = screen.queryByText('B content');\n    expect(aContent).toBeNull();\n    expect(bContent).toBeNull();\n  });\n\n  it('should show content of opened element', () => {\n    render(<TestApp initialOpened={['a']} />);\n\n    const aContent = screen.queryByText('A content');\n    expect(aContent).toBeVisible();\n\n    const bContent = screen.queryByText('B content');\n    expect(bContent).toBeNull();\n  });\n\n  it('should open element on click', () => {\n    render(<TestApp />);\n\n    const aHeader = screen.getByText('A header');\n    userEvent.click(aHeader);\n\n    expect(screen.getByText('A content')).toBeInTheDocument();\n  });\n\n  it('should close element on click if its opened', () => {\n    render(<TestApp initialOpened={['a']} />);\n\n    const aHeader = screen.getByText('A header');\n    userEvent.click(aHeader);\n\n    expect(screen.queryByText('A content')).toBeNull();\n  });\n\n  it('should work in accordion mode', () => {\n    render(<TestApp initialOpened={['a']} mode=\"accordion\" />);\n\n    expect(screen.getByText('A content')).toBeInTheDocument();\n\n    // open another item\n    const bHeader = screen.getByText('B header');\n    userEvent.click(bHeader);\n\n    expect(screen.queryByText('A content')).toBeNull();\n    expect(screen.queryByText('B content')).toBeInTheDocument();\n\n    userEvent.click(bHeader);\n    expect(screen.queryByText('B content')).toBeNull();\n  });\n\n  it('should warn about multiple opened items in accordion mode', () => {\n    const logErrorSpy = jest.spyOn(console, 'warn');\n    render(<TestApp initialOpened={['a', 'b']} mode=\"accordion\" />);\n\n    expect(logErrorSpy).toBeCalledWith(ACCORDION_MODE_ERROR);\n  });\n});","words":[{"text":"import","type":"Keyword","range":[0,6]},{"text":"render","type":"Identifier","range":[9,15]},{"text":"screen","type":"Identifier","range":[17,23]},{"text":"from","type":"Identifier","range":[26,30]},{"text":"'@testing-library/react'","type":"String","range":[31,55]},{"text":"import","type":"Keyword","range":[57,63]},{"text":"userEvent","type":"Identifier","range":[64,73]},{"text":"from","type":"Identifier","range":[74,78]},{"text":"'@testing-library/user-event'","type":"String","range":[79,108]},{"text":"import","type":"Keyword","range":[110,116]},{"text":"useState","type":"Identifier","range":[119,127]},{"text":"from","type":"Identifier","range":[130,134]},{"text":"'react'","type":"String","range":[135,142]},{"text":"import","type":"Keyword","range":[144,150]},{"text":"ACCORDION_MODE_ERROR","type":"Identifier","range":[155,175]},{"text":"Collapse","type":"Identifier","range":[179,187]},{"text":"CollapseItem","type":"Identifier","range":[191,203]},{"text":"CollapseProps","type":"Identifier","range":[207,220]},{"text":"from","type":"Identifier","range":[224,228]},{"text":"'./Collapse'","type":"String","range":[229,241]},{"text":"interface","type":"Keyword","range":[244,253]},{"text":"TestAppProps","type":"Identifier","range":[254,266]},{"text":"initialOpened","type":"Identifier","range":[271,284]},{"text":"string","type":"Identifier","range":[287,293]},{"text":"mode","type":"Identifier","range":[299,303]},{"text":"CollapseProps","type":"Identifier","range":[306,319]},{"text":"'mode'","type":"String","range":[320,326]},{"text":"const","type":"Keyword","range":[332,337]},{"text":"TestApp","type":"Identifier","range":[338,345]},{"text":"initialOpened","type":"Identifier","range":[351,364]},{"text":"mode","type":"Identifier","range":[371,375]},{"text":"TestAppProps","type":"Identifier","range":[379,391]},{"text":"const","type":"Keyword","range":[400,405]},{"text":"opened","type":"Identifier","range":[407,413]},{"text":"setOpened","type":"Identifier","range":[415,424]},{"text":"useState","type":"Identifier","range":[428,436]},{"text":"initialOpened","type":"Identifier","range":[437,450]},{"text":"return","type":"Keyword","range":[456,462]},{"text":"Collapse","type":"JSXIdentifier","range":[470,478]},{"text":"openedItems","type":"JSXIdentifier","range":[479,490]},{"text":"opened","type":"Identifier","range":[492,498]},{"text":"onChange","type":"JSXIdentifier","range":[500,508]},{"text":"setOpened","type":"Identifier","range":[510,519]},{"text":"mode","type":"JSXIdentifier","range":[521,525]},{"text":"mode","type":"Identifier","range":[527,531]},{"text":"\n      ","type":"JSXText","range":[533,540]},{"text":"CollapseItem","type":"JSXIdentifier","range":[541,553]},{"text":"name","type":"JSXIdentifier","range":[554,558]},{"text":"\"a\"","type":"JSXText","range":[559,562]},{"text":"\n        ","type":"JSXText","range":[563,572]},{"text":"props","type":"Identifier","range":[573,578]},{"text":"div","type":"JSXIdentifier","range":[595,598]},{"text":"\n            ","type":"JSXText","range":[599,612]},{"text":"div","type":"JSXIdentifier","range":[613,616]},{"text":"props","type":"JSXIdentifier","range":[621,626]},{"text":"headerProps","type":"JSXIdentifier","range":[627,638]},{"text":"A header","type":"JSXText","range":[640,648]},{"text":"div","type":"JSXIdentifier","range":[650,653]},{"text":"\n            ","type":"JSXText","range":[654,667]},{"text":"props","type":"JSXIdentifier","range":[668,673]},{"text":"contentVisible","type":"JSXIdentifier","range":[674,688]},{"text":"div","type":"JSXIdentifier","range":[693,696]},{"text":"A content","type":"JSXText","range":[697,706]},{"text":"div","type":"JSXIdentifier","range":[708,711]},{"text":"\n          ","type":"JSXText","range":[713,724]},{"text":"div","type":"JSXIdentifier","range":[726,729]},{"text":"\n      ","type":"JSXText","range":[741,748]},{"text":"CollapseItem","type":"JSXIdentifier","range":[750,762]},{"text":"\n      ","type":"JSXText","range":[763,770]},{"text":"CollapseItem","type":"JSXIdentifier","range":[771,783]},{"text":"name","type":"JSXIdentifier","range":[784,788]},{"text":"\"b\"","type":"JSXText","range":[789,792]},{"text":"\n        ","type":"JSXText","range":[793,802]},{"text":"props","type":"Identifier","range":[803,808]},{"text":"div","type":"JSXIdentifier","range":[825,828]},{"text":"\n            ","type":"JSXText","range":[829,842]},{"text":"div","type":"JSXIdentifier","range":[843,846]},{"text":"props","type":"JSXIdentifier","range":[851,856]},{"text":"headerProps","type":"JSXIdentifier","range":[857,868]},{"text":"B header","type":"JSXText","range":[870,878]},{"text":"div","type":"JSXIdentifier","range":[880,883]},{"text":"\n            ","type":"JSXText","range":[884,897]},{"text":"props","type":"JSXIdentifier","range":[898,903]},{"text":"contentVisible","type":"JSXIdentifier","range":[904,918]},{"text":"div","type":"JSXIdentifier","range":[923,926]},{"text":"B content","type":"JSXText","range":[927,936]},{"text":"div","type":"JSXIdentifier","range":[938,941]},{"text":"\n          ","type":"JSXText","range":[943,954]},{"text":"div","type":"JSXIdentifier","range":[956,959]},{"text":"\n      ","type":"JSXText","range":[971,978]},{"text":"CollapseItem","type":"JSXIdentifier","range":[980,992]},{"text":"\n    ","type":"JSXText","range":[993,998]},{"text":"Collapse","type":"JSXIdentifier","range":[1000,1008]},{"text":"describe","type":"Identifier","range":[1019,1027]},{"text":"'Collapse'","type":"String","range":[1028,1038]},{"text":"it","type":"Identifier","range":[1050,1052]},{"text":"'should show always show headers'","type":"String","range":[1053,1086]},{"text":"render","type":"Identifier","range":[1100,1106]},{"text":"TestApp","type":"JSXIdentifier","range":[1108,1115]},{"text":"expect","type":"Identifier","range":[1126,1132]},{"text":"screen","type":"Identifier","range":[1133,1139]},{"text":"getByText","type":"Identifier","range":[1140,1149]},{"text":"'A header'","type":"String","range":[1150,1160]},{"text":"toBeInTheDocument","type":"Identifier","range":[1163,1180]},{"text":"expect","type":"Identifier","range":[1188,1194]},{"text":"screen","type":"Identifier","range":[1195,1201]},{"text":"getByText","type":"Identifier","range":[1202,1211]},{"text":"'B header'","type":"String","range":[1212,1222]},{"text":"toBeInTheDocument","type":"Identifier","range":[1225,1242]},{"text":"const","type":"Keyword","range":[1251,1256]},{"text":"aContent","type":"Identifier","range":[1257,1265]},{"text":"screen","type":"Identifier","range":[1268,1274]},{"text":"queryByText","type":"Identifier","range":[1275,1286]},{"text":"'A content'","type":"String","range":[1287,1298]},{"text":"const","type":"Keyword","range":[1305,1310]},{"text":"bContent","type":"Identifier","range":[1311,1319]},{"text":"screen","type":"Identifier","range":[1322,1328]},{"text":"queryByText","type":"Identifier","range":[1329,1340]},{"text":"'B content'","type":"String","range":[1341,1352]},{"text":"expect","type":"Identifier","range":[1359,1365]},{"text":"aContent","type":"Identifier","range":[1366,1374]},{"text":"toBeNull","type":"Identifier","range":[1376,1384]},{"text":"expect","type":"Identifier","range":[1392,1398]},{"text":"bContent","type":"Identifier","range":[1399,1407]},{"text":"toBeNull","type":"Identifier","range":[1409,1417]},{"text":"it","type":"Identifier","range":[1430,1432]},{"text":"'should show content of opened element'","type":"String","range":[1433,1472]},{"text":"render","type":"Identifier","range":[1486,1492]},{"text":"TestApp","type":"JSXIdentifier","range":[1494,1501]},{"text":"initialOpened","type":"JSXIdentifier","range":[1502,1515]},{"text":"'a'","type":"String","range":[1518,1521]},{"text":"const","type":"Keyword","range":[1534,1539]},{"text":"aContent","type":"Identifier","range":[1540,1548]},{"text":"screen","type":"Identifier","range":[1551,1557]},{"text":"queryByText","type":"Identifier","range":[1558,1569]},{"text":"'A content'","type":"String","range":[1570,1581]},{"text":"expect","type":"Identifier","range":[1588,1594]},{"text":"aContent","type":"Identifier","range":[1595,1603]},{"text":"toBeVisible","type":"Identifier","range":[1605,1616]},{"text":"const","type":"Keyword","range":[1625,1630]},{"text":"bContent","type":"Identifier","range":[1631,1639]},{"text":"screen","type":"Identifier","range":[1642,1648]},{"text":"queryByText","type":"Identifier","range":[1649,1660]},{"text":"'B content'","type":"String","range":[1661,1672]},{"text":"expect","type":"Identifier","range":[1679,1685]},{"text":"bContent","type":"Identifier","range":[1686,1694]},{"text":"toBeNull","type":"Identifier","range":[1696,1704]},{"text":"it","type":"Identifier","range":[1717,1719]},{"text":"'should open element on click'","type":"String","range":[1720,1750]},{"text":"render","type":"Identifier","range":[1764,1770]},{"text":"TestApp","type":"JSXIdentifier","range":[1772,1779]},{"text":"const","type":"Keyword","range":[1790,1795]},{"text":"aHeader","type":"Identifier","range":[1796,1803]},{"text":"screen","type":"Identifier","range":[1806,1812]},{"text":"getByText","type":"Identifier","range":[1813,1822]},{"text":"'A header'","type":"String","range":[1823,1833]},{"text":"userEvent","type":"Identifier","range":[1840,1849]},{"text":"click","type":"Identifier","range":[1850,1855]},{"text":"aHeader","type":"Identifier","range":[1856,1863]},{"text":"expect","type":"Identifier","range":[1871,1877]},{"text":"screen","type":"Identifier","range":[1878,1884]},{"text":"getByText","type":"Identifier","range":[1885,1894]},{"text":"'A content'","type":"String","range":[1895,1906]},{"text":"toBeInTheDocument","type":"Identifier","range":[1909,1926]},{"text":"it","type":"Identifier","range":[1939,1941]},{"text":"'should close element on click if its opened'","type":"String","range":[1942,1987]},{"text":"render","type":"Identifier","range":[2001,2007]},{"text":"TestApp","type":"JSXIdentifier","range":[2009,2016]},{"text":"initialOpened","type":"JSXIdentifier","range":[2017,2030]},{"text":"'a'","type":"String","range":[2033,2036]},{"text":"const","type":"Keyword","range":[2049,2054]},{"text":"aHeader","type":"Identifier","range":[2055,2062]},{"text":"screen","type":"Identifier","range":[2065,2071]},{"text":"getByText","type":"Identifier","range":[2072,2081]},{"text":"'A header'","type":"String","range":[2082,2092]},{"text":"userEvent","type":"Identifier","range":[2099,2108]},{"text":"click","type":"Identifier","range":[2109,2114]},{"text":"aHeader","type":"Identifier","range":[2115,2122]},{"text":"expect","type":"Identifier","range":[2130,2136]},{"text":"screen","type":"Identifier","range":[2137,2143]},{"text":"queryByText","type":"Identifier","range":[2144,2155]},{"text":"'A content'","type":"String","range":[2156,2167]},{"text":"toBeNull","type":"Identifier","range":[2170,2178]},{"text":"it","type":"Identifier","range":[2191,2193]},{"text":"'should work in accordion mode'","type":"String","range":[2194,2225]},{"text":"render","type":"Identifier","range":[2239,2245]},{"text":"TestApp","type":"JSXIdentifier","range":[2247,2254]},{"text":"initialOpened","type":"JSXIdentifier","range":[2255,2268]},{"text":"'a'","type":"String","range":[2271,2274]},{"text":"mode","type":"JSXIdentifier","range":[2277,2281]},{"text":"\"accordion\"","type":"JSXText","range":[2282,2293]},{"text":"expect","type":"Identifier","range":[2304,2310]},{"text":"screen","type":"Identifier","range":[2311,2317]},{"text":"getByText","type":"Identifier","range":[2318,2327]},{"text":"'A content'","type":"String","range":[2328,2339]},{"text":"toBeInTheDocument","type":"Identifier","range":[2342,2359]},{"text":" open another item","type":"Line","range":[2368,2388]},{"text":"const","type":"Keyword","range":[2393,2398]},{"text":"bHeader","type":"Identifier","range":[2399,2406]},{"text":"screen","type":"Identifier","range":[2409,2415]},{"text":"getByText","type":"Identifier","range":[2416,2425]},{"text":"'B header'","type":"String","range":[2426,2436]},{"text":"userEvent","type":"Identifier","range":[2443,2452]},{"text":"click","type":"Identifier","range":[2453,2458]},{"text":"bHeader","type":"Identifier","range":[2459,2466]},{"text":"expect","type":"Identifier","range":[2474,2480]},{"text":"screen","type":"Identifier","range":[2481,2487]},{"text":"queryByText","type":"Identifier","range":[2488,2499]},{"text":"'A content'","type":"String","range":[2500,2511]},{"text":"toBeNull","type":"Identifier","range":[2514,2522]},{"text":"expect","type":"Identifier","range":[2530,2536]},{"text":"screen","type":"Identifier","range":[2537,2543]},{"text":"queryByText","type":"Identifier","range":[2544,2555]},{"text":"'B content'","type":"String","range":[2556,2567]},{"text":"toBeInTheDocument","type":"Identifier","range":[2570,2587]},{"text":"userEvent","type":"Identifier","range":[2596,2605]},{"text":"click","type":"Identifier","range":[2606,2611]},{"text":"bHeader","type":"Identifier","range":[2612,2619]},{"text":"expect","type":"Identifier","range":[2626,2632]},{"text":"screen","type":"Identifier","range":[2633,2639]},{"text":"queryByText","type":"Identifier","range":[2640,2651]},{"text":"'B content'","type":"String","range":[2652,2663]},{"text":"toBeNull","type":"Identifier","range":[2666,2674]},{"text":"it","type":"Identifier","range":[2687,2689]},{"text":"'should warn about multiple opened items in accordion mode'","type":"String","range":[2690,2749]},{"text":"const","type":"Keyword","range":[2763,2768]},{"text":"logErrorSpy","type":"Identifier","range":[2769,2780]},{"text":"jest","type":"Identifier","range":[2783,2787]},{"text":"spyOn","type":"Identifier","range":[2788,2793]},{"text":"console","type":"Identifier","range":[2794,2801]},{"text":"'warn'","type":"String","range":[2803,2809]},{"text":"render","type":"Identifier","range":[2816,2822]},{"text":"TestApp","type":"JSXIdentifier","range":[2824,2831]},{"text":"initialOpened","type":"JSXIdentifier","range":[2832,2845]},{"text":"'a'","type":"String","range":[2848,2851]},{"text":"'b'","type":"String","range":[2853,2856]},{"text":"mode","type":"JSXIdentifier","range":[2859,2863]},{"text":"\"accordion\"","type":"JSXText","range":[2864,2875]},{"text":"expect","type":"Identifier","range":[2886,2892]},{"text":"logErrorSpy","type":"Identifier","range":[2893,2904]},{"text":"toBeCalledWith","type":"Identifier","range":[2906,2920]},{"text":"ACCORDION_MODE_ERROR","type":"Identifier","range":[2921,2941]}]}