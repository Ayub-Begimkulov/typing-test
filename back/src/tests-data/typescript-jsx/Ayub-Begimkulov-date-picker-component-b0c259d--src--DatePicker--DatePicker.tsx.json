{"type":"typescript-jsx","text":"import React, {\n  useEffect,\n  useLayoutEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport { clsx } from 'clsx';\nimport {\n  DateCellItem,\n  daysOfTheWeek,\n  getCurrentMothDays,\n  getDateFromInputValue,\n  getDaysAmountInAMonth,\n  getInputValueFromDate,\n  getNextMonthDays,\n  getPreviousMonthDays,\n  isInRange,\n  isToday,\n  months,\n} from './utils';\nimport { useLatest } from '../hooks';\n\nexport interface DatePickerProps {\n  value: Date;\n  onChange: (value: Date) => void;\n  min?: Date;\n  max?: Date;\n}\n\n/* \nTODO:\n- fix bug [done]\n- input and popup [done]\n- write a date through input [done]\n- refactoring [done]\n- remove unnecessary chars from input [done]\n\n- min and max [done]\n- highlight input with invalid value [done]\n\n- improve styles\n  - highlight today [done]\n  - highlight prev and next month days [done]\n  - popup and input styles [done]\n\n- [after video] think about solution without effects?\n*/\n\nexport const DatePicker = ({ value, onChange, min, max }: DatePickerProps) => {\n  const [showPopup, setShowPopup] = useState(false);\n  const [inputValue, setInputValue] = useState('');\n  const elementRef = useRef<HTMLDivElement>(null);\n\n  useLayoutEffect(() => {\n    setInputValue(getInputValueFromDate(value));\n  }, [value]);\n\n  const updateValueOnPopupCloseAction = () => {\n    const date = getDateFromInputValue(inputValue);\n\n    setShowPopup(false);\n\n    if (!date) {\n      // input value is invalid\n      // reset it\n      setInputValue(getInputValueFromDate(value));\n      return;\n    }\n\n    const isDateInRange = isInRange(date, min, max);\n\n    if (!isDateInRange) {\n      return;\n    }\n\n    onChange(date);\n  };\n\n  const latestUpdateValueFromInput = useLatest(updateValueOnPopupCloseAction);\n\n  useEffect(() => {\n    const element = elementRef.current;\n\n    if (!element) return;\n\n    const onDocumentClick = (e: MouseEvent) => {\n      const target = e.target;\n\n      if (!(target instanceof Node)) {\n        return;\n      }\n\n      if (element.contains(target)) {\n        return;\n      }\n\n      latestUpdateValueFromInput.current();\n    };\n\n    document.addEventListener('click', onDocumentClick);\n\n    return () => {\n      document.removeEventListener('click', onDocumentClick);\n    };\n  }, [latestUpdateValueFromInput]);\n\n  const handleChange = (value: Date) => {\n    onChange(value);\n    setShowPopup(false);\n  };\n\n  const onInputValueChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setInputValue(e.target.value.trim());\n  };\n\n  const onInputClick = () => {\n    setShowPopup(true);\n  };\n\n  const [inputValueDate, isValidInputValue] = useMemo(() => {\n    const date = getDateFromInputValue(inputValue);\n\n    if (!date) {\n      return [undefined, false];\n    }\n\n    const isDateInRange = isInRange(date, min, max);\n\n    return [date, isDateInRange];\n  }, [inputValue, min, max]);\n\n  const onKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key !== 'Enter') {\n      return;\n    }\n\n    updateValueOnPopupCloseAction();\n  };\n\n  return (\n    <div ref={elementRef} className=\"DatePicker\" data-testid=\"data-picker-view\">\n      <input\n        data-testid=\"date-picker-input\"\n        className={clsx(\n          'DatePicker__input',\n          !isValidInputValue && 'DatePicker__input--invalid'\n        )}\n        value={inputValue}\n        onChange={onInputValueChange}\n        type=\"text\"\n        onClick={onInputClick}\n        onKeyDown={onKeyDown}\n      />\n\n      {showPopup && (\n        <div className=\"DatePicker__popup\" data-testid=\"date-picker-popup\">\n          <DatePickerPopupContent\n            selectedValue={value}\n            onChange={handleChange}\n            min={min}\n            max={max}\n            inputValueDate={inputValueDate}\n          />\n        </div>\n      )}\n    </div>\n  );\n};\n\ninterface DatePickerPopupContentProps {\n  selectedValue: Date;\n  inputValueDate?: Date;\n  min?: Date;\n  max?: Date;\n  onChange: (value: Date) => void;\n}\n\nconst DatePickerPopupContent = ({\n  selectedValue,\n  inputValueDate,\n  onChange,\n  min,\n  max,\n}: DatePickerPopupContentProps) => {\n  const [panelYear, setPanelYear] = useState(() => selectedValue.getFullYear());\n  const [panelMonth, setPanelMonth] = useState(() => selectedValue.getMonth());\n  const todayDate = useMemo(() => new Date(), []);\n\n  useLayoutEffect(() => {\n    if (!inputValueDate) {\n      return;\n    }\n\n    setPanelMonth(inputValueDate.getMonth());\n    setPanelYear(inputValueDate.getFullYear());\n  }, [inputValueDate]);\n\n  const [year, month, day] = useMemo(() => {\n    const currentYear = selectedValue.getFullYear();\n    const currentDay = selectedValue.getDate();\n    const currentMonth = selectedValue.getMonth();\n\n    return [currentYear, currentMonth, currentDay];\n  }, [selectedValue]);\n\n  const dateCells = useMemo(() => {\n    const daysInAMonth = getDaysAmountInAMonth(panelYear, panelMonth);\n\n    const currentMonthDays = getCurrentMothDays(\n      panelYear,\n      panelMonth,\n      daysInAMonth\n    );\n    const prevMonthDays = getPreviousMonthDays(panelYear, panelMonth);\n    const nextMonthDays = getNextMonthDays(panelYear, panelMonth);\n\n    return [...prevMonthDays, ...currentMonthDays, ...nextMonthDays];\n  }, [panelYear, panelMonth]);\n\n  const onDateSelect = (item: DateCellItem) => {\n    onChange(new Date(item.year, item.month, item.date));\n  };\n\n  const nextYear = () => {\n    setPanelYear(panelYear + 1);\n  };\n\n  const prevYear = () => {\n    setPanelYear(panelYear - 1);\n  };\n\n  const nextMonth = () => {\n    if (panelMonth === 11) {\n      setPanelMonth(0);\n      setPanelYear(panelYear + 1);\n    } else {\n      setPanelMonth(panelMonth + 1);\n    }\n  };\n\n  const prevMonth = () => {\n    if (panelMonth === 0) {\n      setPanelMonth(11);\n      setPanelYear(panelYear - 1);\n    } else {\n      setPanelMonth(panelMonth - 1);\n    }\n  };\n\n  return (\n    <div className=\"CalendarPanel\">\n      <div className=\"CalendarPanel__header\">\n        <div\n          className=\"CalendarPanel__date\"\n          data-testid=\"date-picker-popup-month\"\n        >\n          {months[panelMonth]} {panelYear}\n        </div>\n        <div className=\"CalendarPanel__buttons\">\n          <div className=\"CalendarPanel__buttons-left\">\n            <button\n              data-testid=\"date-picker-popup-prev-year\"\n              onClick={prevYear}\n            >\n              Prev Year\n            </button>\n            <button\n              data-testid=\"date-picker-popup-prev-month\"\n              onClick={prevMonth}\n            >\n              Prev Month\n            </button>\n          </div>\n          <div className=\"CalendarPanel__buttons-right\">\n            <button\n              data-testid=\"date-picker-popup-next-month\"\n              onClick={nextMonth}\n            >\n              Next Month\n            </button>\n            <button\n              data-testid=\"date-picker-popup-next-year\"\n              onClick={nextYear}\n            >\n              Next Year\n            </button>\n          </div>\n        </div>\n      </div>\n      <div className=\"CalendarPanel__content\">\n        {daysOfTheWeek.map(weekDay => (\n          <div key={weekDay} className=\"CalendarPanelItem\">\n            {weekDay}\n          </div>\n        ))}\n        {dateCells.map(cell => {\n          const isSelectedDate =\n            cell.year === year && cell.month === month && cell.date === day;\n          const isTodayDate = isToday(cell, todayDate);\n          const isNotCurrent = cell.type !== 'current';\n\n          const isDateInRange = isInRange(\n            new Date(cell.year, cell.month, cell.date),\n            min,\n            max\n          );\n\n          return (\n            <div\n              className={clsx(\n                'CalendarPanelItem',\n                isSelectedDate && 'CalendarPanelItem--selected',\n                isTodayDate && 'CalendarPanelItem--today',\n                isNotCurrent && 'CalendarPanelItem--not-current',\n                !isDateInRange && 'CalendarPanelItem--not-in-range'\n              )}\n              key={`${cell.date}-${cell.month}-${cell.year}`}\n              onClick={() => isDateInRange && onDateSelect(cell)}\n              data-testid=\"date-picker-popup-cell\"\n            >\n              <div className=\"CalendarPanelItem__date\">{cell.date}</div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};","words":[{"text":"import","type":"Keyword","range":[0,6]},{"text":"React","type":"Identifier","range":[7,12]},{"text":"useEffect","type":"Identifier","range":[18,27]},{"text":"useLayoutEffect","type":"Identifier","range":[31,46]},{"text":"useMemo","type":"Identifier","range":[50,57]},{"text":"useRef","type":"Identifier","range":[61,67]},{"text":"useState","type":"Identifier","range":[71,79]},{"text":"from","type":"Identifier","range":[83,87]},{"text":"'react'","type":"String","range":[88,95]},{"text":"import","type":"Keyword","range":[97,103]},{"text":"clsx","type":"Identifier","range":[106,110]},{"text":"from","type":"Identifier","range":[113,117]},{"text":"'clsx'","type":"String","range":[118,124]},{"text":"import","type":"Keyword","range":[126,132]},{"text":"DateCellItem","type":"Identifier","range":[137,149]},{"text":"daysOfTheWeek","type":"Identifier","range":[153,166]},{"text":"getCurrentMothDays","type":"Identifier","range":[170,188]},{"text":"getDateFromInputValue","type":"Identifier","range":[192,213]},{"text":"getDaysAmountInAMonth","type":"Identifier","range":[217,238]},{"text":"getInputValueFromDate","type":"Identifier","range":[242,263]},{"text":"getNextMonthDays","type":"Identifier","range":[267,283]},{"text":"getPreviousMonthDays","type":"Identifier","range":[287,307]},{"text":"isInRange","type":"Identifier","range":[311,320]},{"text":"isToday","type":"Identifier","range":[324,331]},{"text":"months","type":"Identifier","range":[335,341]},{"text":"from","type":"Identifier","range":[345,349]},{"text":"'./utils'","type":"String","range":[350,359]},{"text":"import","type":"Keyword","range":[361,367]},{"text":"useLatest","type":"Identifier","range":[370,379]},{"text":"from","type":"Identifier","range":[382,386]},{"text":"'../hooks'","type":"String","range":[387,397]},{"text":"export","type":"Keyword","range":[400,406]},{"text":"interface","type":"Keyword","range":[407,416]},{"text":"DatePickerProps","type":"Identifier","range":[417,432]},{"text":"value","type":"Identifier","range":[437,442]},{"text":"Date","type":"Identifier","range":[444,448]},{"text":"onChange","type":"Identifier","range":[452,460]},{"text":"value","type":"Identifier","range":[463,468]},{"text":"Date","type":"Identifier","range":[470,474]},{"text":"void","type":"Keyword","range":[479,483]},{"text":"min","type":"Identifier","range":[487,490]},{"text":"Date","type":"Identifier","range":[493,497]},{"text":"max","type":"Identifier","range":[501,504]},{"text":"Date","type":"Identifier","range":[507,511]},{"text":" \nTODO:\n- fix bug [done]\n- input and popup [done]\n- write a date through input [done]\n- refactoring [done]\n- remove unnecessary chars from input [done]\n\n- min and max [done]\n- highlight input with invalid value [done]\n\n- improve styles\n  - highlight today [done]\n  - highlight prev and next month days [done]\n  - popup and input styles [done]\n\n- [after video] think about solution without effects?\n","type":"Block","range":[516,918]},{"text":"export","type":"Keyword","range":[920,926]},{"text":"const","type":"Keyword","range":[927,932]},{"text":"DatePicker","type":"Identifier","range":[933,943]},{"text":"value","type":"Identifier","range":[949,954]},{"text":"onChange","type":"Identifier","range":[956,964]},{"text":"min","type":"Identifier","range":[966,969]},{"text":"max","type":"Identifier","range":[971,974]},{"text":"DatePickerProps","type":"Identifier","range":[978,993]},{"text":"const","type":"Keyword","range":[1002,1007]},{"text":"showPopup","type":"Identifier","range":[1009,1018]},{"text":"setShowPopup","type":"Identifier","range":[1020,1032]},{"text":"useState","type":"Identifier","range":[1036,1044]},{"text":"false","type":"Boolean","range":[1045,1050]},{"text":"const","type":"Keyword","range":[1055,1060]},{"text":"inputValue","type":"Identifier","range":[1062,1072]},{"text":"setInputValue","type":"Identifier","range":[1074,1087]},{"text":"useState","type":"Identifier","range":[1091,1099]},{"text":"''","type":"String","range":[1100,1102]},{"text":"const","type":"Keyword","range":[1107,1112]},{"text":"elementRef","type":"Identifier","range":[1113,1123]},{"text":"useRef","type":"Identifier","range":[1126,1132]},{"text":"HTMLDivElement","type":"Identifier","range":[1133,1147]},{"text":"null","type":"Keyword","range":[1149,1153]},{"text":"useLayoutEffect","type":"Identifier","range":[1159,1174]},{"text":"setInputValue","type":"Identifier","range":[1187,1200]},{"text":"getInputValueFromDate","type":"Identifier","range":[1201,1222]},{"text":"value","type":"Identifier","range":[1223,1228]},{"text":"value","type":"Identifier","range":[1238,1243]},{"text":"const","type":"Keyword","range":[1250,1255]},{"text":"updateValueOnPopupCloseAction","type":"Identifier","range":[1256,1285]},{"text":"const","type":"Keyword","range":[1300,1305]},{"text":"date","type":"Identifier","range":[1306,1310]},{"text":"getDateFromInputValue","type":"Identifier","range":[1313,1334]},{"text":"inputValue","type":"Identifier","range":[1335,1345]},{"text":"setShowPopup","type":"Identifier","range":[1353,1365]},{"text":"false","type":"Boolean","range":[1366,1371]},{"text":"if","type":"Keyword","range":[1379,1381]},{"text":"date","type":"Identifier","range":[1384,1388]},{"text":" input value is invalid","type":"Line","range":[1398,1423]},{"text":" reset it","type":"Line","range":[1430,1441]},{"text":"setInputValue","type":"Identifier","range":[1448,1461]},{"text":"getInputValueFromDate","type":"Identifier","range":[1462,1483]},{"text":"value","type":"Identifier","range":[1484,1489]},{"text":"return","type":"Keyword","range":[1499,1505]},{"text":"const","type":"Keyword","range":[1518,1523]},{"text":"isDateInRange","type":"Identifier","range":[1524,1537]},{"text":"isInRange","type":"Identifier","range":[1540,1549]},{"text":"date","type":"Identifier","range":[1550,1554]},{"text":"min","type":"Identifier","range":[1556,1559]},{"text":"max","type":"Identifier","range":[1561,1564]},{"text":"if","type":"Keyword","range":[1572,1574]},{"text":"isDateInRange","type":"Identifier","range":[1577,1590]},{"text":"return","type":"Keyword","range":[1600,1606]},{"text":"onChange","type":"Identifier","range":[1619,1627]},{"text":"date","type":"Identifier","range":[1628,1632]},{"text":"const","type":"Keyword","range":[1643,1648]},{"text":"latestUpdateValueFromInput","type":"Identifier","range":[1649,1675]},{"text":"useLatest","type":"Identifier","range":[1678,1687]},{"text":"updateValueOnPopupCloseAction","type":"Identifier","range":[1688,1717]},{"text":"useEffect","type":"Identifier","range":[1723,1732]},{"text":"const","type":"Keyword","range":[1745,1750]},{"text":"element","type":"Identifier","range":[1751,1758]},{"text":"elementRef","type":"Identifier","range":[1761,1771]},{"text":"current","type":"Identifier","range":[1772,1779]},{"text":"if","type":"Keyword","range":[1786,1788]},{"text":"element","type":"Identifier","range":[1791,1798]},{"text":"return","type":"Keyword","range":[1800,1806]},{"text":"const","type":"Keyword","range":[1813,1818]},{"text":"onDocumentClick","type":"Identifier","range":[1819,1834]},{"text":"e","type":"Identifier","range":[1838,1839]},{"text":"MouseEvent","type":"Identifier","range":[1841,1851]},{"text":"const","type":"Keyword","range":[1864,1869]},{"text":"target","type":"Identifier","range":[1870,1876]},{"text":"e","type":"Identifier","range":[1879,1880]},{"text":"target","type":"Identifier","range":[1881,1887]},{"text":"if","type":"Keyword","range":[1896,1898]},{"text":"target","type":"Identifier","range":[1902,1908]},{"text":"instanceof","type":"Keyword","range":[1909,1919]},{"text":"Node","type":"Identifier","range":[1920,1924]},{"text":"return","type":"Keyword","range":[1937,1943]},{"text":"if","type":"Keyword","range":[1960,1962]},{"text":"element","type":"Identifier","range":[1964,1971]},{"text":"contains","type":"Identifier","range":[1972,1980]},{"text":"target","type":"Identifier","range":[1981,1987]},{"text":"return","type":"Keyword","range":[2000,2006]},{"text":"latestUpdateValueFromInput","type":"Identifier","range":[2023,2049]},{"text":"current","type":"Identifier","range":[2050,2057]},{"text":"document","type":"Identifier","range":[2073,2081]},{"text":"addEventListener","type":"Identifier","range":[2082,2098]},{"text":"'click'","type":"String","range":[2099,2106]},{"text":"onDocumentClick","type":"Identifier","range":[2108,2123]},{"text":"return","type":"Keyword","range":[2131,2137]},{"text":"document","type":"Identifier","range":[2152,2160]},{"text":"removeEventListener","type":"Identifier","range":[2161,2180]},{"text":"'click'","type":"String","range":[2181,2188]},{"text":"onDocumentClick","type":"Identifier","range":[2190,2205]},{"text":"latestUpdateValueFromInput","type":"Identifier","range":[2221,2247]},{"text":"const","type":"Keyword","range":[2254,2259]},{"text":"handleChange","type":"Identifier","range":[2260,2272]},{"text":"value","type":"Identifier","range":[2276,2281]},{"text":"Date","type":"Identifier","range":[2283,2287]},{"text":"onChange","type":"Identifier","range":[2298,2306]},{"text":"value","type":"Identifier","range":[2307,2312]},{"text":"setShowPopup","type":"Identifier","range":[2319,2331]},{"text":"false","type":"Boolean","range":[2332,2337]},{"text":"const","type":"Keyword","range":[2348,2353]},{"text":"onInputValueChange","type":"Identifier","range":[2354,2372]},{"text":"e","type":"Identifier","range":[2376,2377]},{"text":"React","type":"Identifier","range":[2379,2384]},{"text":"ChangeEvent","type":"Identifier","range":[2385,2396]},{"text":"HTMLInputElement","type":"Identifier","range":[2397,2413]},{"text":"setInputValue","type":"Identifier","range":[2425,2438]},{"text":"e","type":"Identifier","range":[2439,2440]},{"text":"target","type":"Identifier","range":[2441,2447]},{"text":"value","type":"Identifier","range":[2448,2453]},{"text":"trim","type":"Identifier","range":[2454,2458]},{"text":"const","type":"Keyword","range":[2471,2476]},{"text":"onInputClick","type":"Identifier","range":[2477,2489]},{"text":"setShowPopup","type":"Identifier","range":[2504,2516]},{"text":"true","type":"Boolean","range":[2517,2521]},{"text":"const","type":"Keyword","range":[2532,2537]},{"text":"inputValueDate","type":"Identifier","range":[2539,2553]},{"text":"isValidInputValue","type":"Identifier","range":[2555,2572]},{"text":"useMemo","type":"Identifier","range":[2576,2583]},{"text":"const","type":"Keyword","range":[2596,2601]},{"text":"date","type":"Identifier","range":[2602,2606]},{"text":"getDateFromInputValue","type":"Identifier","range":[2609,2630]},{"text":"inputValue","type":"Identifier","range":[2631,2641]},{"text":"if","type":"Keyword","range":[2649,2651]},{"text":"date","type":"Identifier","range":[2654,2658]},{"text":"return","type":"Keyword","range":[2668,2674]},{"text":"undefined","type":"Identifier","range":[2676,2685]},{"text":"false","type":"Boolean","range":[2687,2692]},{"text":"const","type":"Keyword","range":[2706,2711]},{"text":"isDateInRange","type":"Identifier","range":[2712,2725]},{"text":"isInRange","type":"Identifier","range":[2728,2737]},{"text":"date","type":"Identifier","range":[2738,2742]},{"text":"min","type":"Identifier","range":[2744,2747]},{"text":"max","type":"Identifier","range":[2749,2752]},{"text":"return","type":"Keyword","range":[2760,2766]},{"text":"date","type":"Identifier","range":[2768,2772]},{"text":"isDateInRange","type":"Identifier","range":[2774,2787]},{"text":"inputValue","type":"Identifier","range":[2796,2806]},{"text":"min","type":"Identifier","range":[2808,2811]},{"text":"max","type":"Identifier","range":[2813,2816]},{"text":"const","type":"Keyword","range":[2823,2828]},{"text":"onKeyDown","type":"Identifier","range":[2829,2838]},{"text":"e","type":"Identifier","range":[2842,2843]},{"text":"React","type":"Identifier","range":[2845,2850]},{"text":"KeyboardEvent","type":"Identifier","range":[2851,2864]},{"text":"if","type":"Keyword","range":[2875,2877]},{"text":"e","type":"Identifier","range":[2879,2880]},{"text":"key","type":"Identifier","range":[2881,2884]},{"text":"'Enter'","type":"String","range":[2889,2896]},{"text":"return","type":"Keyword","range":[2906,2912]},{"text":"updateValueOnPopupCloseAction","type":"Identifier","range":[2925,2954]},{"text":"return","type":"Keyword","range":[2966,2972]},{"text":"div","type":"JSXIdentifier","range":[2980,2983]},{"text":"ref","type":"JSXIdentifier","range":[2984,2987]},{"text":"elementRef","type":"Identifier","range":[2989,2999]},{"text":"className","type":"JSXIdentifier","range":[3001,3010]},{"text":"\"DatePicker\"","type":"JSXText","range":[3011,3023]},{"text":"data-testid","type":"JSXIdentifier","range":[3024,3035]},{"text":"\"data-picker-view\"","type":"JSXText","range":[3036,3054]},{"text":"\n      ","type":"JSXText","range":[3055,3062]},{"text":"input","type":"JSXIdentifier","range":[3063,3068]},{"text":"data-testid","type":"JSXIdentifier","range":[3077,3088]},{"text":"\"date-picker-input\"","type":"JSXText","range":[3089,3108]},{"text":"className","type":"JSXIdentifier","range":[3117,3126]},{"text":"clsx","type":"Identifier","range":[3128,3132]},{"text":"'DatePicker__input'","type":"String","range":[3144,3163]},{"text":"isValidInputValue","type":"Identifier","range":[3176,3193]},{"text":"'DatePicker__input--invalid'","type":"String","range":[3197,3225]},{"text":"value","type":"JSXIdentifier","range":[3245,3250]},{"text":"inputValue","type":"Identifier","range":[3252,3262]},{"text":"onChange","type":"JSXIdentifier","range":[3272,3280]},{"text":"onInputValueChange","type":"Identifier","range":[3282,3300]},{"text":"type","type":"Identifier","range":[3310,3314]},{"text":"\"text\"","type":"JSXText","range":[3315,3321]},{"text":"onClick","type":"JSXIdentifier","range":[3330,3337]},{"text":"onInputClick","type":"Identifier","range":[3339,3351]},{"text":"onKeyDown","type":"JSXIdentifier","range":[3361,3370]},{"text":"onKeyDown","type":"Identifier","range":[3372,3381]},{"text":"\n\n      ","type":"JSXText","range":[3391,3399]},{"text":"showPopup","type":"Identifier","range":[3400,3409]},{"text":"div","type":"JSXIdentifier","range":[3424,3427]},{"text":"className","type":"JSXIdentifier","range":[3428,3437]},{"text":"\"DatePicker__popup\"","type":"JSXText","range":[3438,3457]},{"text":"data-testid","type":"JSXIdentifier","range":[3458,3469]},{"text":"\"date-picker-popup\"","type":"JSXText","range":[3470,3489]},{"text":"\n          ","type":"JSXText","range":[3490,3501]},{"text":"DatePickerPopupContent","type":"JSXIdentifier","range":[3502,3524]},{"text":"selectedValue","type":"JSXIdentifier","range":[3537,3550]},{"text":"value","type":"Identifier","range":[3552,3557]},{"text":"onChange","type":"JSXIdentifier","range":[3571,3579]},{"text":"handleChange","type":"Identifier","range":[3581,3593]},{"text":"min","type":"JSXIdentifier","range":[3607,3610]},{"text":"min","type":"Identifier","range":[3612,3615]},{"text":"max","type":"JSXIdentifier","range":[3629,3632]},{"text":"max","type":"Identifier","range":[3634,3637]},{"text":"inputValueDate","type":"JSXIdentifier","range":[3651,3665]},{"text":"inputValueDate","type":"Identifier","range":[3667,3681]},{"text":"\n        ","type":"JSXText","range":[3695,3704]},{"text":"div","type":"JSXIdentifier","range":[3706,3709]},{"text":"\n    ","type":"JSXText","range":[3719,3724]},{"text":"div","type":"JSXIdentifier","range":[3726,3729]},{"text":"interface","type":"Keyword","range":[3740,3749]},{"text":"DatePickerPopupContentProps","type":"Identifier","range":[3750,3777]},{"text":"selectedValue","type":"Identifier","range":[3782,3795]},{"text":"Date","type":"Identifier","range":[3797,3801]},{"text":"inputValueDate","type":"Identifier","range":[3805,3819]},{"text":"Date","type":"Identifier","range":[3822,3826]},{"text":"min","type":"Identifier","range":[3830,3833]},{"text":"Date","type":"Identifier","range":[3836,3840]},{"text":"max","type":"Identifier","range":[3844,3847]},{"text":"Date","type":"Identifier","range":[3850,3854]},{"text":"onChange","type":"Identifier","range":[3858,3866]},{"text":"value","type":"Identifier","range":[3869,3874]},{"text":"Date","type":"Identifier","range":[3876,3880]},{"text":"void","type":"Keyword","range":[3885,3889]},{"text":"const","type":"Keyword","range":[3894,3899]},{"text":"DatePickerPopupContent","type":"Identifier","range":[3900,3922]},{"text":"selectedValue","type":"Identifier","range":[3930,3943]},{"text":"inputValueDate","type":"Identifier","range":[3947,3961]},{"text":"onChange","type":"Identifier","range":[3965,3973]},{"text":"min","type":"Identifier","range":[3977,3980]},{"text":"max","type":"Identifier","range":[3984,3987]},{"text":"DatePickerPopupContentProps","type":"Identifier","range":[3992,4019]},{"text":"const","type":"Keyword","range":[4028,4033]},{"text":"panelYear","type":"Identifier","range":[4035,4044]},{"text":"setPanelYear","type":"Identifier","range":[4046,4058]},{"text":"useState","type":"Identifier","range":[4062,4070]},{"text":"selectedValue","type":"Identifier","range":[4077,4090]},{"text":"getFullYear","type":"Identifier","range":[4091,4102]},{"text":"const","type":"Keyword","range":[4109,4114]},{"text":"panelMonth","type":"Identifier","range":[4116,4126]},{"text":"setPanelMonth","type":"Identifier","range":[4128,4141]},{"text":"useState","type":"Identifier","range":[4145,4153]},{"text":"selectedValue","type":"Identifier","range":[4160,4173]},{"text":"getMonth","type":"Identifier","range":[4174,4182]},{"text":"const","type":"Keyword","range":[4189,4194]},{"text":"todayDate","type":"Identifier","range":[4195,4204]},{"text":"useMemo","type":"Identifier","range":[4207,4214]},{"text":"new","type":"Keyword","range":[4221,4224]},{"text":"Date","type":"Identifier","range":[4225,4229]},{"text":"useLayoutEffect","type":"Identifier","range":[4241,4256]},{"text":"if","type":"Keyword","range":[4269,4271]},{"text":"inputValueDate","type":"Identifier","range":[4274,4288]},{"text":"return","type":"Keyword","range":[4298,4304]},{"text":"setPanelMonth","type":"Identifier","range":[4317,4330]},{"text":"inputValueDate","type":"Identifier","range":[4331,4345]},{"text":"getMonth","type":"Identifier","range":[4346,4354]},{"text":"setPanelYear","type":"Identifier","range":[4363,4375]},{"text":"inputValueDate","type":"Identifier","range":[4376,4390]},{"text":"getFullYear","type":"Identifier","range":[4391,4402]},{"text":"inputValueDate","type":"Identifier","range":[4413,4427]},{"text":"const","type":"Keyword","range":[4434,4439]},{"text":"year","type":"Identifier","range":[4441,4445]},{"text":"month","type":"Identifier","range":[4447,4452]},{"text":"day","type":"Identifier","range":[4454,4457]},{"text":"useMemo","type":"Identifier","range":[4461,4468]},{"text":"const","type":"Keyword","range":[4481,4486]},{"text":"currentYear","type":"Identifier","range":[4487,4498]},{"text":"selectedValue","type":"Identifier","range":[4501,4514]},{"text":"getFullYear","type":"Identifier","range":[4515,4526]},{"text":"const","type":"Keyword","range":[4534,4539]},{"text":"currentDay","type":"Identifier","range":[4540,4550]},{"text":"selectedValue","type":"Identifier","range":[4553,4566]},{"text":"getDate","type":"Identifier","range":[4567,4574]},{"text":"const","type":"Keyword","range":[4582,4587]},{"text":"currentMonth","type":"Identifier","range":[4588,4600]},{"text":"selectedValue","type":"Identifier","range":[4603,4616]},{"text":"getMonth","type":"Identifier","range":[4617,4625]},{"text":"return","type":"Keyword","range":[4634,4640]},{"text":"currentYear","type":"Identifier","range":[4642,4653]},{"text":"currentMonth","type":"Identifier","range":[4655,4667]},{"text":"currentDay","type":"Identifier","range":[4669,4679]},{"text":"selectedValue","type":"Identifier","range":[4688,4701]},{"text":"const","type":"Keyword","range":[4708,4713]},{"text":"dateCells","type":"Identifier","range":[4714,4723]},{"text":"useMemo","type":"Identifier","range":[4726,4733]},{"text":"const","type":"Keyword","range":[4746,4751]},{"text":"daysInAMonth","type":"Identifier","range":[4752,4764]},{"text":"getDaysAmountInAMonth","type":"Identifier","range":[4767,4788]},{"text":"panelYear","type":"Identifier","range":[4789,4798]},{"text":"panelMonth","type":"Identifier","range":[4800,4810]},{"text":"const","type":"Keyword","range":[4818,4823]},{"text":"currentMonthDays","type":"Identifier","range":[4824,4840]},{"text":"getCurrentMothDays","type":"Identifier","range":[4843,4861]},{"text":"panelYear","type":"Identifier","range":[4869,4878]},{"text":"panelMonth","type":"Identifier","range":[4886,4896]},{"text":"daysInAMonth","type":"Identifier","range":[4904,4916]},{"text":"const","type":"Keyword","range":[4928,4933]},{"text":"prevMonthDays","type":"Identifier","range":[4934,4947]},{"text":"getPreviousMonthDays","type":"Identifier","range":[4950,4970]},{"text":"panelYear","type":"Identifier","range":[4971,4980]},{"text":"panelMonth","type":"Identifier","range":[4982,4992]},{"text":"const","type":"Keyword","range":[4999,5004]},{"text":"nextMonthDays","type":"Identifier","range":[5005,5018]},{"text":"getNextMonthDays","type":"Identifier","range":[5021,5037]},{"text":"panelYear","type":"Identifier","range":[5038,5047]},{"text":"panelMonth","type":"Identifier","range":[5049,5059]},{"text":"return","type":"Keyword","range":[5067,5073]},{"text":"prevMonthDays","type":"Identifier","range":[5078,5091]},{"text":"currentMonthDays","type":"Identifier","range":[5096,5112]},{"text":"nextMonthDays","type":"Identifier","range":[5117,5130]},{"text":"panelYear","type":"Identifier","range":[5139,5148]},{"text":"panelMonth","type":"Identifier","range":[5150,5160]},{"text":"const","type":"Keyword","range":[5167,5172]},{"text":"onDateSelect","type":"Identifier","range":[5173,5185]},{"text":"item","type":"Identifier","range":[5189,5193]},{"text":"DateCellItem","type":"Identifier","range":[5195,5207]},{"text":"onChange","type":"Identifier","range":[5218,5226]},{"text":"new","type":"Keyword","range":[5227,5230]},{"text":"Date","type":"Identifier","range":[5231,5235]},{"text":"item","type":"Identifier","range":[5236,5240]},{"text":"year","type":"Identifier","range":[5241,5245]},{"text":"item","type":"Identifier","range":[5247,5251]},{"text":"month","type":"Identifier","range":[5252,5257]},{"text":"item","type":"Identifier","range":[5259,5263]},{"text":"date","type":"Identifier","range":[5264,5268]},{"text":"const","type":"Keyword","range":[5280,5285]},{"text":"nextYear","type":"Identifier","range":[5286,5294]},{"text":"setPanelYear","type":"Identifier","range":[5309,5321]},{"text":"panelYear","type":"Identifier","range":[5322,5331]},{"text":"1","type":"Numeric","range":[5334,5335]},{"text":"const","type":"Keyword","range":[5346,5351]},{"text":"prevYear","type":"Identifier","range":[5352,5360]},{"text":"setPanelYear","type":"Identifier","range":[5375,5387]},{"text":"panelYear","type":"Identifier","range":[5388,5397]},{"text":"1","type":"Numeric","range":[5400,5401]},{"text":"const","type":"Keyword","range":[5412,5417]},{"text":"nextMonth","type":"Identifier","range":[5418,5427]},{"text":"if","type":"Keyword","range":[5442,5444]},{"text":"panelMonth","type":"Identifier","range":[5446,5456]},{"text":"11","type":"Numeric","range":[5461,5463]},{"text":"setPanelMonth","type":"Identifier","range":[5473,5486]},{"text":"0","type":"Numeric","range":[5487,5488]},{"text":"setPanelYear","type":"Identifier","range":[5497,5509]},{"text":"panelYear","type":"Identifier","range":[5510,5519]},{"text":"1","type":"Numeric","range":[5522,5523]},{"text":"else","type":"Keyword","range":[5532,5536]},{"text":"setPanelMonth","type":"Identifier","range":[5545,5558]},{"text":"panelMonth","type":"Identifier","range":[5559,5569]},{"text":"1","type":"Numeric","range":[5572,5573]},{"text":"const","type":"Keyword","range":[5590,5595]},{"text":"prevMonth","type":"Identifier","range":[5596,5605]},{"text":"if","type":"Keyword","range":[5620,5622]},{"text":"panelMonth","type":"Identifier","range":[5624,5634]},{"text":"0","type":"Numeric","range":[5639,5640]},{"text":"setPanelMonth","type":"Identifier","range":[5650,5663]},{"text":"11","type":"Numeric","range":[5664,5666]},{"text":"setPanelYear","type":"Identifier","range":[5675,5687]},{"text":"panelYear","type":"Identifier","range":[5688,5697]},{"text":"1","type":"Numeric","range":[5700,5701]},{"text":"else","type":"Keyword","range":[5710,5714]},{"text":"setPanelMonth","type":"Identifier","range":[5723,5736]},{"text":"panelMonth","type":"Identifier","range":[5737,5747]},{"text":"1","type":"Numeric","range":[5750,5751]},{"text":"return","type":"Keyword","range":[5768,5774]},{"text":"div","type":"JSXIdentifier","range":[5782,5785]},{"text":"className","type":"JSXIdentifier","range":[5786,5795]},{"text":"\"CalendarPanel\"","type":"JSXText","range":[5796,5811]},{"text":"\n      ","type":"JSXText","range":[5812,5819]},{"text":"div","type":"JSXIdentifier","range":[5820,5823]},{"text":"className","type":"JSXIdentifier","range":[5824,5833]},{"text":"\"CalendarPanel__header\"","type":"JSXText","range":[5834,5857]},{"text":"\n        ","type":"JSXText","range":[5858,5867]},{"text":"div","type":"JSXIdentifier","range":[5868,5871]},{"text":"className","type":"JSXIdentifier","range":[5882,5891]},{"text":"\"CalendarPanel__date\"","type":"JSXText","range":[5892,5913]},{"text":"data-testid","type":"JSXIdentifier","range":[5924,5935]},{"text":"\"date-picker-popup-month\"","type":"JSXText","range":[5936,5961]},{"text":"\n          ","type":"JSXText","range":[5971,5982]},{"text":"months","type":"Identifier","range":[5983,5989]},{"text":"panelMonth","type":"Identifier","range":[5990,6000]},{"text":" ","type":"JSXText","range":[6002,6003]},{"text":"panelYear","type":"Identifier","range":[6004,6013]},{"text":"\n        ","type":"JSXText","range":[6014,6023]},{"text":"div","type":"JSXIdentifier","range":[6025,6028]},{"text":"\n        ","type":"JSXText","range":[6029,6038]},{"text":"div","type":"JSXIdentifier","range":[6039,6042]},{"text":"className","type":"JSXIdentifier","range":[6043,6052]},{"text":"\"CalendarPanel__buttons\"","type":"JSXText","range":[6053,6077]},{"text":"\n          ","type":"JSXText","range":[6078,6089]},{"text":"div","type":"JSXIdentifier","range":[6090,6093]},{"text":"className","type":"JSXIdentifier","range":[6094,6103]},{"text":"\"CalendarPanel__buttons-left\"","type":"JSXText","range":[6104,6133]},{"text":"\n            ","type":"JSXText","range":[6134,6147]},{"text":"button","type":"JSXIdentifier","range":[6148,6154]},{"text":"data-testid","type":"JSXIdentifier","range":[6169,6180]},{"text":"\"date-picker-popup-prev-year\"","type":"JSXText","range":[6181,6210]},{"text":"onClick","type":"JSXIdentifier","range":[6225,6232]},{"text":"prevYear","type":"Identifier","range":[6234,6242]},{"text":"\n              Prev Year\n            ","type":"JSXText","range":[6257,6294]},{"text":"button","type":"JSXIdentifier","range":[6296,6302]},{"text":"\n            ","type":"JSXText","range":[6303,6316]},{"text":"button","type":"JSXIdentifier","range":[6317,6323]},{"text":"data-testid","type":"JSXIdentifier","range":[6338,6349]},{"text":"\"date-picker-popup-prev-month\"","type":"JSXText","range":[6350,6380]},{"text":"onClick","type":"JSXIdentifier","range":[6395,6402]},{"text":"prevMonth","type":"Identifier","range":[6404,6413]},{"text":"\n              Prev Month\n            ","type":"JSXText","range":[6428,6466]},{"text":"button","type":"JSXIdentifier","range":[6468,6474]},{"text":"\n          ","type":"JSXText","range":[6475,6486]},{"text":"div","type":"JSXIdentifier","range":[6488,6491]},{"text":"\n          ","type":"JSXText","range":[6492,6503]},{"text":"div","type":"JSXIdentifier","range":[6504,6507]},{"text":"className","type":"JSXIdentifier","range":[6508,6517]},{"text":"\"CalendarPanel__buttons-right\"","type":"JSXText","range":[6518,6548]},{"text":"\n            ","type":"JSXText","range":[6549,6562]},{"text":"button","type":"JSXIdentifier","range":[6563,6569]},{"text":"data-testid","type":"JSXIdentifier","range":[6584,6595]},{"text":"\"date-picker-popup-next-month\"","type":"JSXText","range":[6596,6626]},{"text":"onClick","type":"JSXIdentifier","range":[6641,6648]},{"text":"nextMonth","type":"Identifier","range":[6650,6659]},{"text":"\n              Next Month\n            ","type":"JSXText","range":[6674,6712]},{"text":"button","type":"JSXIdentifier","range":[6714,6720]},{"text":"\n            ","type":"JSXText","range":[6721,6734]},{"text":"button","type":"JSXIdentifier","range":[6735,6741]},{"text":"data-testid","type":"JSXIdentifier","range":[6756,6767]},{"text":"\"date-picker-popup-next-year\"","type":"JSXText","range":[6768,6797]},{"text":"onClick","type":"JSXIdentifier","range":[6812,6819]},{"text":"nextYear","type":"Identifier","range":[6821,6829]},{"text":"\n              Next Year\n            ","type":"JSXText","range":[6844,6881]},{"text":"button","type":"JSXIdentifier","range":[6883,6889]},{"text":"\n          ","type":"JSXText","range":[6890,6901]},{"text":"div","type":"JSXIdentifier","range":[6903,6906]},{"text":"\n        ","type":"JSXText","range":[6907,6916]},{"text":"div","type":"JSXIdentifier","range":[6918,6921]},{"text":"\n      ","type":"JSXText","range":[6922,6929]},{"text":"div","type":"JSXIdentifier","range":[6931,6934]},{"text":"\n      ","type":"JSXText","range":[6935,6942]},{"text":"div","type":"JSXIdentifier","range":[6943,6946]},{"text":"className","type":"JSXIdentifier","range":[6947,6956]},{"text":"\"CalendarPanel__content\"","type":"JSXText","range":[6957,6981]},{"text":"\n        ","type":"JSXText","range":[6982,6991]},{"text":"daysOfTheWeek","type":"JSXIdentifier","range":[6992,7005]},{"text":"map","type":"JSXIdentifier","range":[7006,7009]},{"text":"weekDay","type":"Identifier","range":[7010,7017]},{"text":"div","type":"JSXIdentifier","range":[7034,7037]},{"text":"key","type":"JSXIdentifier","range":[7038,7041]},{"text":"weekDay","type":"Identifier","range":[7043,7050]},{"text":"className","type":"JSXIdentifier","range":[7052,7061]},{"text":"\"CalendarPanelItem\"","type":"JSXText","range":[7062,7081]},{"text":"\n            ","type":"JSXText","range":[7082,7095]},{"text":"weekDay","type":"Identifier","range":[7096,7103]},{"text":"\n          ","type":"JSXText","range":[7104,7115]},{"text":"div","type":"JSXIdentifier","range":[7117,7120]},{"text":"\n        ","type":"JSXText","range":[7133,7142]},{"text":"dateCells","type":"JSXIdentifier","range":[7143,7152]},{"text":"map","type":"JSXIdentifier","range":[7153,7156]},{"text":"cell","type":"Identifier","range":[7157,7161]},{"text":"const","type":"Keyword","range":[7177,7182]},{"text":"isSelectedDate","type":"Identifier","range":[7183,7197]},{"text":"cell","type":"JSXIdentifier","range":[7212,7216]},{"text":"year","type":"JSXIdentifier","range":[7217,7221]},{"text":"year","type":"Identifier","range":[7226,7230]},{"text":"cell","type":"JSXIdentifier","range":[7234,7238]},{"text":"month","type":"JSXIdentifier","range":[7239,7244]},{"text":"month","type":"Identifier","range":[7249,7254]},{"text":"cell","type":"JSXIdentifier","range":[7258,7262]},{"text":"date","type":"JSXIdentifier","range":[7263,7267]},{"text":"day","type":"Identifier","range":[7272,7275]},{"text":"const","type":"Keyword","range":[7287,7292]},{"text":"isTodayDate","type":"Identifier","range":[7293,7304]},{"text":"isToday","type":"Identifier","range":[7307,7314]},{"text":"cell","type":"Identifier","range":[7315,7319]},{"text":"todayDate","type":"Identifier","range":[7321,7330]},{"text":"const","type":"Keyword","range":[7343,7348]},{"text":"isNotCurrent","type":"Identifier","range":[7349,7361]},{"text":"cell","type":"JSXIdentifier","range":[7364,7368]},{"text":"type","type":"Identifier","range":[7369,7373]},{"text":"'current'","type":"String","range":[7378,7387]},{"text":"const","type":"Keyword","range":[7400,7405]},{"text":"isDateInRange","type":"Identifier","range":[7406,7419]},{"text":"isInRange","type":"Identifier","range":[7422,7431]},{"text":"new","type":"Keyword","range":[7445,7448]},{"text":"Date","type":"Identifier","range":[7449,7453]},{"text":"cell","type":"JSXIdentifier","range":[7454,7458]},{"text":"year","type":"JSXIdentifier","range":[7459,7463]},{"text":"cell","type":"JSXIdentifier","range":[7465,7469]},{"text":"month","type":"JSXIdentifier","range":[7470,7475]},{"text":"cell","type":"JSXIdentifier","range":[7477,7481]},{"text":"date","type":"JSXIdentifier","range":[7482,7486]},{"text":"min","type":"Identifier","range":[7501,7504]},{"text":"max","type":"Identifier","range":[7518,7521]},{"text":"return","type":"Keyword","range":[7546,7552]},{"text":"div","type":"JSXIdentifier","range":[7568,7571]},{"text":"className","type":"JSXIdentifier","range":[7586,7595]},{"text":"clsx","type":"Identifier","range":[7597,7601]},{"text":"'CalendarPanelItem'","type":"String","range":[7619,7638]},{"text":"isSelectedDate","type":"Identifier","range":[7656,7670]},{"text":"'CalendarPanelItem--selected'","type":"String","range":[7674,7703]},{"text":"isTodayDate","type":"Identifier","range":[7721,7732]},{"text":"'CalendarPanelItem--today'","type":"String","range":[7736,7762]},{"text":"isNotCurrent","type":"Identifier","range":[7780,7792]},{"text":"'CalendarPanelItem--not-current'","type":"String","range":[7796,7828]},{"text":"isDateInRange","type":"Identifier","range":[7847,7860]},{"text":"'CalendarPanelItem--not-in-range'","type":"String","range":[7864,7897]},{"text":"key","type":"JSXIdentifier","range":[7929,7932]},{"text":"`${","type":"Template","range":[7934,7937]},{"text":"cell","type":"JSXIdentifier","range":[7937,7941]},{"text":"date","type":"JSXIdentifier","range":[7942,7946]},{"text":"}-${","type":"Template","range":[7946,7950]},{"text":"cell","type":"JSXIdentifier","range":[7950,7954]},{"text":"month","type":"JSXIdentifier","range":[7955,7960]},{"text":"}-${","type":"Template","range":[7960,7964]},{"text":"cell","type":"JSXIdentifier","range":[7964,7968]},{"text":"year","type":"JSXIdentifier","range":[7969,7973]},{"text":"}`","type":"Template","range":[7973,7975]},{"text":"onClick","type":"JSXIdentifier","range":[7991,7998]},{"text":"isDateInRange","type":"Identifier","range":[8006,8019]},{"text":"onDateSelect","type":"Identifier","range":[8023,8035]},{"text":"cell","type":"Identifier","range":[8036,8040]},{"text":"data-testid","type":"JSXIdentifier","range":[8057,8068]},{"text":"\"date-picker-popup-cell\"","type":"JSXText","range":[8069,8093]},{"text":"\n              ","type":"JSXText","range":[8107,8122]},{"text":"div","type":"JSXIdentifier","range":[8123,8126]},{"text":"className","type":"JSXIdentifier","range":[8127,8136]},{"text":"\"CalendarPanelItem__date\"","type":"JSXText","range":[8137,8162]},{"text":"cell","type":"JSXIdentifier","range":[8164,8168]},{"text":"date","type":"JSXIdentifier","range":[8169,8173]},{"text":"div","type":"JSXIdentifier","range":[8176,8179]},{"text":"\n            ","type":"JSXText","range":[8180,8193]},{"text":"div","type":"JSXIdentifier","range":[8195,8198]},{"text":"\n      ","type":"JSXText","range":[8224,8231]},{"text":"div","type":"JSXIdentifier","range":[8233,8236]},{"text":"\n    ","type":"JSXText","range":[8237,8242]},{"text":"div","type":"JSXIdentifier","range":[8244,8247]}]}