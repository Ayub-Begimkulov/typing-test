{"type":"javascript","text":"import { useMemo, useReducer } from 'react';\n\nexport function useMethods(methods, initialState) {\n  const reducer = (state, action) => {\n    const { type, payload } = action;\n    const actualMethods = typeof methods === 'function' ? methods() : methods;\n\n    const method = actualMethods[type];\n\n    if (!method) {\n      return state;\n    }\n\n    return method(state, payload);\n  };\n\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  const methodsActions = useMemo(() => {\n    const actualMethods = typeof methods === 'function' ? methods() : methods;\n\n    return Object.keys(actualMethods).reduce((result, type) => {\n      result[type] = payload => {\n        dispatch({ type, payload });\n      };\n      return result;\n    }, {});\n  }, []);\n\n  return [state, methodsActions];\n}","words":[{"text":"import","type":"Keyword","range":[0,6]},{"text":"useMemo","type":"Identifier","range":[9,16]},{"text":"useReducer","type":"Identifier","range":[18,28]},{"text":"from","type":"Identifier","range":[31,35]},{"text":"'react'","type":"String","range":[36,43]},{"text":"export","type":"Keyword","range":[46,52]},{"text":"function","type":"Keyword","range":[53,61]},{"text":"useMethods","type":"Identifier","range":[62,72]},{"text":"methods","type":"Identifier","range":[73,80]},{"text":"initialState","type":"Identifier","range":[82,94]},{"text":"const","type":"Keyword","range":[100,105]},{"text":"reducer","type":"Identifier","range":[106,113]},{"text":"state","type":"Identifier","range":[117,122]},{"text":"action","type":"Identifier","range":[124,130]},{"text":"const","type":"Keyword","range":[141,146]},{"text":"type","type":"Identifier","range":[149,153]},{"text":"payload","type":"Identifier","range":[155,162]},{"text":"action","type":"Identifier","range":[167,173]},{"text":"const","type":"Keyword","range":[179,184]},{"text":"actualMethods","type":"Identifier","range":[185,198]},{"text":"typeof","type":"Keyword","range":[201,207]},{"text":"methods","type":"Identifier","range":[208,215]},{"text":"'function'","type":"String","range":[220,230]},{"text":"methods","type":"Identifier","range":[233,240]},{"text":"methods","type":"Identifier","range":[245,252]},{"text":"const","type":"Keyword","range":[259,264]},{"text":"method","type":"Identifier","range":[265,271]},{"text":"actualMethods","type":"Identifier","range":[274,287]},{"text":"type","type":"Identifier","range":[288,292]},{"text":"if","type":"Keyword","range":[300,302]},{"text":"method","type":"Identifier","range":[305,311]},{"text":"return","type":"Keyword","range":[321,327]},{"text":"state","type":"Identifier","range":[328,333]},{"text":"return","type":"Keyword","range":[346,352]},{"text":"method","type":"Identifier","range":[353,359]},{"text":"state","type":"Identifier","range":[360,365]},{"text":"payload","type":"Identifier","range":[367,374]},{"text":"const","type":"Keyword","range":[385,390]},{"text":"state","type":"Identifier","range":[392,397]},{"text":"dispatch","type":"Identifier","range":[399,407]},{"text":"useReducer","type":"Identifier","range":[411,421]},{"text":"reducer","type":"Identifier","range":[422,429]},{"text":"initialState","type":"Identifier","range":[431,443]},{"text":"const","type":"Keyword","range":[449,454]},{"text":"methodsActions","type":"Identifier","range":[455,469]},{"text":"useMemo","type":"Identifier","range":[472,479]},{"text":"const","type":"Keyword","range":[492,497]},{"text":"actualMethods","type":"Identifier","range":[498,511]},{"text":"typeof","type":"Keyword","range":[514,520]},{"text":"methods","type":"Identifier","range":[521,528]},{"text":"'function'","type":"String","range":[533,543]},{"text":"methods","type":"Identifier","range":[546,553]},{"text":"methods","type":"Identifier","range":[558,565]},{"text":"return","type":"Keyword","range":[572,578]},{"text":"Object","type":"Identifier","range":[579,585]},{"text":"keys","type":"Identifier","range":[586,590]},{"text":"actualMethods","type":"Identifier","range":[591,604]},{"text":"reduce","type":"Identifier","range":[606,612]},{"text":"result","type":"Identifier","range":[614,620]},{"text":"type","type":"Identifier","range":[622,626]},{"text":"result","type":"Identifier","range":[639,645]},{"text":"type","type":"Identifier","range":[646,650]},{"text":"payload","type":"Identifier","range":[654,661]},{"text":"dispatch","type":"Identifier","range":[675,683]},{"text":"type","type":"Identifier","range":[686,690]},{"text":"payload","type":"Identifier","range":[692,699]},{"text":"return","type":"Keyword","range":[719,725]},{"text":"result","type":"Identifier","range":[726,732]},{"text":"return","type":"Keyword","range":[759,765]},{"text":"state","type":"Identifier","range":[767,772]},{"text":"methodsActions","type":"Identifier","range":[774,788]}]}