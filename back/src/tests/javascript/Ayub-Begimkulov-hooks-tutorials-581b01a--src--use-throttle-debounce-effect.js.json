{"type":"javascript","text":"import { useEffect, useRef } from 'react';\nimport { useDebounce, useThrottle } from './use-throttle-debounce';\n\nfunction makeDebounceEffectHook(useDebounceHook) {\n  return function (cb, deps, ms) {\n    const isInitialRender = useRef(true);\n    const cleanUpFn = useRef();\n\n    const debouncedCb = useDebounceHook(() => {\n      cleanUpFn.current = cb();\n    }, ms);\n\n    useEffect(() => {\n      if (isInitialRender.current) {\n        isInitialRender.current = false;\n        return;\n      }\n\n      debouncedCb();\n\n      return () => {\n        if (typeof cleanUpFn.current === 'function') {\n          cleanUpFn.current();\n          cleanUpFn.current = undefined;\n        }\n      };\n    }, [debouncedCb, ...deps]);\n  };\n}\n\nexport const useDebounceEffect = makeDebounceEffectHook(useDebounce);\nexport const useThrottleEffect = makeDebounceEffectHook(useThrottle);","words":[{"text":"import","type":"Keyword","range":[0,6]},{"text":"useEffect","type":"Identifier","range":[9,18]},{"text":"useRef","type":"Identifier","range":[20,26]},{"text":"from","type":"Identifier","range":[29,33]},{"text":"'react'","type":"String","range":[34,41]},{"text":"import","type":"Keyword","range":[43,49]},{"text":"useDebounce","type":"Identifier","range":[52,63]},{"text":"useThrottle","type":"Identifier","range":[65,76]},{"text":"from","type":"Identifier","range":[79,83]},{"text":"'./use-throttle-debounce'","type":"String","range":[84,109]},{"text":"function","type":"Keyword","range":[112,120]},{"text":"makeDebounceEffectHook","type":"Identifier","range":[121,143]},{"text":"useDebounceHook","type":"Identifier","range":[144,159]},{"text":"return","type":"Keyword","range":[165,171]},{"text":"function","type":"Keyword","range":[172,180]},{"text":"cb","type":"Identifier","range":[182,184]},{"text":"deps","type":"Identifier","range":[186,190]},{"text":"ms","type":"Identifier","range":[192,194]},{"text":"const","type":"Keyword","range":[202,207]},{"text":"isInitialRender","type":"Identifier","range":[208,223]},{"text":"useRef","type":"Identifier","range":[226,232]},{"text":"true","type":"Boolean","range":[233,237]},{"text":"const","type":"Keyword","range":[244,249]},{"text":"cleanUpFn","type":"Identifier","range":[250,259]},{"text":"useRef","type":"Identifier","range":[262,268]},{"text":"const","type":"Keyword","range":[277,282]},{"text":"debouncedCb","type":"Identifier","range":[283,294]},{"text":"useDebounceHook","type":"Identifier","range":[297,312]},{"text":"cleanUpFn","type":"Identifier","range":[327,336]},{"text":"current","type":"Identifier","range":[337,344]},{"text":"cb","type":"Identifier","range":[347,349]},{"text":"ms","type":"Identifier","range":[360,362]},{"text":"useEffect","type":"Identifier","range":[370,379]},{"text":"if","type":"Keyword","range":[394,396]},{"text":"isInitialRender","type":"Identifier","range":[398,413]},{"text":"current","type":"Identifier","range":[414,421]},{"text":"isInitialRender","type":"Identifier","range":[433,448]},{"text":"current","type":"Identifier","range":[449,456]},{"text":"false","type":"Boolean","range":[459,464]},{"text":"return","type":"Keyword","range":[474,480]},{"text":"debouncedCb","type":"Identifier","range":[497,508]},{"text":"return","type":"Keyword","range":[519,525]},{"text":"if","type":"Keyword","range":[542,544]},{"text":"typeof","type":"Keyword","range":[546,552]},{"text":"cleanUpFn","type":"Identifier","range":[553,562]},{"text":"current","type":"Identifier","range":[563,570]},{"text":"'function'","type":"String","range":[575,585]},{"text":"cleanUpFn","type":"Identifier","range":[599,608]},{"text":"current","type":"Identifier","range":[609,616]},{"text":"cleanUpFn","type":"Identifier","range":[630,639]},{"text":"current","type":"Identifier","range":[640,647]},{"text":"undefined","type":"Identifier","range":[650,659]},{"text":"debouncedCb","type":"Identifier","range":[688,699]},{"text":"deps","type":"Identifier","range":[704,708]},{"text":"export","type":"Keyword","range":[720,726]},{"text":"const","type":"Keyword","range":[727,732]},{"text":"useDebounceEffect","type":"Identifier","range":[733,750]},{"text":"makeDebounceEffectHook","type":"Identifier","range":[753,775]},{"text":"useDebounce","type":"Identifier","range":[776,787]},{"text":"export","type":"Keyword","range":[790,796]},{"text":"const","type":"Keyword","range":[797,802]},{"text":"useThrottleEffect","type":"Identifier","range":[803,820]},{"text":"makeDebounceEffectHook","type":"Identifier","range":[823,845]},{"text":"useThrottle","type":"Identifier","range":[846,857]}]}