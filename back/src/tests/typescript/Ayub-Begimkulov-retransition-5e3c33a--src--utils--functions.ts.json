{"type":"typescript","text":"import { AnyFunction, AnyObject } from \"../types\";\n\nexport function isFunction(val: unknown): val is AnyFunction {\n  return typeof val === \"function\";\n}\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\nexport function hasOwn<T extends AnyObject>(\n  value: T,\n  key: PropertyKey\n): key is keyof T {\n  return hasOwnProperty.call(value, key);\n}\n\nexport function once<T extends AnyFunction>(fn: T) {\n  let invoked = false;\n  return function (...args: Parameters<T>) {\n    if (invoked) return;\n    invoked = true;\n    fn.apply(null, args);\n  };\n}\n\nexport function nextFrame(cb: () => void) {\n  requestAnimationFrame(() => {\n    requestAnimationFrame(cb);\n  });\n}\n\nexport function addClass(el: Element, ...classes: string[]) {\n  classes.forEach(cls =>\n    cls.split(/\\s+/).forEach(c => {\n      c && el.classList.add(c);\n    })\n  );\n}\n\nexport function removeClass(el: Element, ...classes: string[]) {\n  classes.forEach(cls =>\n    cls.split(/\\s+/).forEach(c => c && el.classList.remove(c))\n  );\n}\n\nexport function removeArrayElement<T>(array: T[], element: T) {\n  const index = array.indexOf(element);\n  if (index < 0) return;\n  array.splice(index, 1);\n}","words":[{"text":"import","type":"Keyword","range":[0,6]},{"text":"AnyFunction","type":"Identifier","range":[9,20]},{"text":"AnyObject","type":"Identifier","range":[22,31]},{"text":"from","type":"Identifier","range":[34,38]},{"text":"\"../types\"","type":"String","range":[39,49]},{"text":"export","type":"Keyword","range":[52,58]},{"text":"function","type":"Keyword","range":[59,67]},{"text":"isFunction","type":"Identifier","range":[68,78]},{"text":"val","type":"Identifier","range":[79,82]},{"text":"unknown","type":"Identifier","range":[84,91]},{"text":"val","type":"Identifier","range":[94,97]},{"text":"is","type":"Identifier","range":[98,100]},{"text":"AnyFunction","type":"Identifier","range":[101,112]},{"text":"return","type":"Keyword","range":[117,123]},{"text":"typeof","type":"Keyword","range":[124,130]},{"text":"val","type":"Identifier","range":[131,134]},{"text":"\"function\"","type":"String","range":[139,149]},{"text":"const","type":"Keyword","range":[154,159]},{"text":"hasOwnProperty","type":"Identifier","range":[160,174]},{"text":"Object","type":"Identifier","range":[177,183]},{"text":"prototype","type":"Identifier","range":[184,193]},{"text":"hasOwnProperty","type":"Identifier","range":[194,208]},{"text":"export","type":"Keyword","range":[211,217]},{"text":"function","type":"Keyword","range":[218,226]},{"text":"hasOwn","type":"Identifier","range":[227,233]},{"text":"T","type":"Identifier","range":[234,235]},{"text":"extends","type":"Keyword","range":[236,243]},{"text":"AnyObject","type":"Identifier","range":[244,253]},{"text":"value","type":"Identifier","range":[258,263]},{"text":"T","type":"Identifier","range":[265,266]},{"text":"key","type":"Identifier","range":[270,273]},{"text":"PropertyKey","type":"Identifier","range":[275,286]},{"text":"key","type":"Identifier","range":[290,293]},{"text":"is","type":"Identifier","range":[294,296]},{"text":"keyof","type":"Identifier","range":[297,302]},{"text":"T","type":"Identifier","range":[303,304]},{"text":"return","type":"Keyword","range":[309,315]},{"text":"hasOwnProperty","type":"Identifier","range":[316,330]},{"text":"call","type":"Identifier","range":[331,335]},{"text":"value","type":"Identifier","range":[336,341]},{"text":"key","type":"Identifier","range":[343,346]},{"text":"export","type":"Keyword","range":[352,358]},{"text":"function","type":"Keyword","range":[359,367]},{"text":"once","type":"Identifier","range":[368,372]},{"text":"T","type":"Identifier","range":[373,374]},{"text":"extends","type":"Keyword","range":[375,382]},{"text":"AnyFunction","type":"Identifier","range":[383,394]},{"text":"fn","type":"Identifier","range":[396,398]},{"text":"T","type":"Identifier","range":[400,401]},{"text":"let","type":"Keyword","range":[407,410]},{"text":"invoked","type":"Identifier","range":[411,418]},{"text":"false","type":"Boolean","range":[421,426]},{"text":"return","type":"Keyword","range":[430,436]},{"text":"function","type":"Keyword","range":[437,445]},{"text":"args","type":"Identifier","range":[450,454]},{"text":"Parameters","type":"Identifier","range":[456,466]},{"text":"T","type":"Identifier","range":[467,468]},{"text":"if","type":"Keyword","range":[477,479]},{"text":"invoked","type":"Identifier","range":[481,488]},{"text":"return","type":"Keyword","range":[490,496]},{"text":"invoked","type":"Identifier","range":[502,509]},{"text":"true","type":"Boolean","range":[512,516]},{"text":"fn","type":"Identifier","range":[522,524]},{"text":"apply","type":"Identifier","range":[525,530]},{"text":"null","type":"Keyword","range":[531,535]},{"text":"args","type":"Identifier","range":[537,541]},{"text":"export","type":"Keyword","range":[552,558]},{"text":"function","type":"Keyword","range":[559,567]},{"text":"nextFrame","type":"Identifier","range":[568,577]},{"text":"cb","type":"Identifier","range":[578,580]},{"text":"void","type":"Keyword","range":[588,592]},{"text":"requestAnimationFrame","type":"Identifier","range":[598,619]},{"text":"requestAnimationFrame","type":"Identifier","range":[632,653]},{"text":"cb","type":"Identifier","range":[654,656]},{"text":"export","type":"Keyword","range":[668,674]},{"text":"function","type":"Keyword","range":[675,683]},{"text":"addClass","type":"Identifier","range":[684,692]},{"text":"el","type":"Identifier","range":[693,695]},{"text":"Element","type":"Identifier","range":[697,704]},{"text":"classes","type":"Identifier","range":[709,716]},{"text":"string","type":"Identifier","range":[718,724]},{"text":"classes","type":"Identifier","range":[732,739]},{"text":"forEach","type":"Identifier","range":[740,747]},{"text":"cls","type":"Identifier","range":[748,751]},{"text":"cls","type":"Identifier","range":[759,762]},{"text":"split","type":"Identifier","range":[763,768]},{"text":"/\\s+/","type":"RegularExpression","range":[769,774]},{"text":"forEach","type":"Identifier","range":[776,783]},{"text":"c","type":"Identifier","range":[784,785]},{"text":"c","type":"Identifier","range":[797,798]},{"text":"el","type":"Identifier","range":[802,804]},{"text":"classList","type":"Identifier","range":[805,814]},{"text":"add","type":"Identifier","range":[815,818]},{"text":"c","type":"Identifier","range":[819,820]},{"text":"export","type":"Keyword","range":[838,844]},{"text":"function","type":"Keyword","range":[845,853]},{"text":"removeClass","type":"Identifier","range":[854,865]},{"text":"el","type":"Identifier","range":[866,868]},{"text":"Element","type":"Identifier","range":[870,877]},{"text":"classes","type":"Identifier","range":[882,889]},{"text":"string","type":"Identifier","range":[891,897]},{"text":"classes","type":"Identifier","range":[905,912]},{"text":"forEach","type":"Identifier","range":[913,920]},{"text":"cls","type":"Identifier","range":[921,924]},{"text":"cls","type":"Identifier","range":[932,935]},{"text":"split","type":"Identifier","range":[936,941]},{"text":"/\\s+/","type":"RegularExpression","range":[942,947]},{"text":"forEach","type":"Identifier","range":[949,956]},{"text":"c","type":"Identifier","range":[957,958]},{"text":"c","type":"Identifier","range":[962,963]},{"text":"el","type":"Identifier","range":[967,969]},{"text":"classList","type":"Identifier","range":[970,979]},{"text":"remove","type":"Identifier","range":[980,986]},{"text":"c","type":"Identifier","range":[987,988]},{"text":"export","type":"Keyword","range":[999,1005]},{"text":"function","type":"Keyword","range":[1006,1014]},{"text":"removeArrayElement","type":"Identifier","range":[1015,1033]},{"text":"T","type":"Identifier","range":[1034,1035]},{"text":"array","type":"Identifier","range":[1037,1042]},{"text":"T","type":"Identifier","range":[1044,1045]},{"text":"element","type":"Identifier","range":[1049,1056]},{"text":"T","type":"Identifier","range":[1058,1059]},{"text":"const","type":"Keyword","range":[1065,1070]},{"text":"index","type":"Identifier","range":[1071,1076]},{"text":"array","type":"Identifier","range":[1079,1084]},{"text":"indexOf","type":"Identifier","range":[1085,1092]},{"text":"element","type":"Identifier","range":[1093,1100]},{"text":"if","type":"Keyword","range":[1105,1107]},{"text":"index","type":"Identifier","range":[1109,1114]},{"text":"0","type":"Numeric","range":[1117,1118]},{"text":"return","type":"Keyword","range":[1120,1126]},{"text":"array","type":"Identifier","range":[1130,1135]},{"text":"splice","type":"Identifier","range":[1136,1142]},{"text":"index","type":"Identifier","range":[1143,1148]},{"text":"1","type":"Numeric","range":[1150,1151]}]}