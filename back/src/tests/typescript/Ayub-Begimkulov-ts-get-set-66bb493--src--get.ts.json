{"type":"typescript","text":"import { StringToPath, stringToPath } from \"./string-to-path\";\nimport { AnyArray, AnyObject, Sequence, IsNumericKey } from \"./types\";\nimport { hasOwn, isUndefined, isObject } from \"./utils\";\nimport { GetArrayValue, IsTuple } from \"./tuple\";\n\n// `StringPath` doesn't get distributed inside `Set_`, do it manually here\nexport type Get<\n  Value extends AnyObject,\n  StringPath extends string,\n  Default = undefined\n> = StringPath extends unknown\n  ? Get_<Value, StringToPath<StringPath>, Default>\n  : never;\n\ntype Get_<\n  Value,\n  Path extends string[],\n  Default = undefined,\n  Index extends number = 0\n> = {\n  0: Value extends AnyObject ? GetKey<Value, Path, Default, Index> : Default;\n  1: Value extends undefined ? Default : Value;\n}[Index extends Path[\"length\"] ? 1 : 0];\n\ntype GetKey<\n  Value extends AnyObject,\n  Path extends string[],\n  Default,\n  Index extends number\n> = Path[Index] extends keyof Value\n  ? Get_<Value[Path[Index]], Path, Default, Sequence[Index]>\n  : Value extends AnyArray\n  ? IsNumericKey<Path[Index]> extends false\n    ? Default\n    : IsTuple<Value> extends true\n    ? Default\n    : // value isn't tuple, get array value and\n      // add `undefined` to it (similar to `noUncheckedIndexAccess`)\n      Get_<GetArrayValue<Value> | undefined, Path, Default, Sequence[Index]>\n  : Default;\n\ninterface GetFunction {\n  <Obj extends AnyObject, Path extends string, Default = undefined>(\n    object: Obj,\n    path: Path,\n    defaultValue?: Default\n  ): Get<Obj, Path, Default>;\n}\n\nexport const get: GetFunction = (object, stringPath, defaultValue) => {\n  const path = stringToPath(stringPath);\n  let index = -1;\n  const lastIndex = path.length - 1;\n  while (++index <= lastIndex) {\n    const key = path[index]!;\n    if (hasOwn(object, key)) {\n      if (lastIndex === index) {\n        return isUndefined(object[key]) ? defaultValue : object[key];\n      }\n      if (isObject(object[key])) {\n        object = object[key];\n      }\n    } else {\n      return defaultValue;\n    }\n  }\n  return object;\n};","words":[{"text":"import","type":"Keyword","range":[0,6]},{"text":"StringToPath","type":"Identifier","range":[9,21]},{"text":"stringToPath","type":"Identifier","range":[23,35]},{"text":"from","type":"Identifier","range":[38,42]},{"text":"\"./string-to-path\"","type":"String","range":[43,61]},{"text":"import","type":"Keyword","range":[63,69]},{"text":"AnyArray","type":"Identifier","range":[72,80]},{"text":"AnyObject","type":"Identifier","range":[82,91]},{"text":"Sequence","type":"Identifier","range":[93,101]},{"text":"IsNumericKey","type":"Identifier","range":[103,115]},{"text":"from","type":"Identifier","range":[118,122]},{"text":"\"./types\"","type":"String","range":[123,132]},{"text":"import","type":"Keyword","range":[134,140]},{"text":"hasOwn","type":"Identifier","range":[143,149]},{"text":"isUndefined","type":"Identifier","range":[151,162]},{"text":"isObject","type":"Identifier","range":[164,172]},{"text":"from","type":"Identifier","range":[175,179]},{"text":"\"./utils\"","type":"String","range":[180,189]},{"text":"import","type":"Keyword","range":[191,197]},{"text":"GetArrayValue","type":"Identifier","range":[200,213]},{"text":"IsTuple","type":"Identifier","range":[215,222]},{"text":"from","type":"Identifier","range":[225,229]},{"text":"\"./tuple\"","type":"String","range":[230,239]},{"text":" `StringPath` doesn't get distributed inside `Set_`, do it manually here","type":"Line","range":[242,316]},{"text":"export","type":"Keyword","range":[317,323]},{"text":"type","type":"Identifier","range":[324,328]},{"text":"Get","type":"Identifier","range":[329,332]},{"text":"Value","type":"Identifier","range":[336,341]},{"text":"extends","type":"Keyword","range":[342,349]},{"text":"AnyObject","type":"Identifier","range":[350,359]},{"text":"StringPath","type":"Identifier","range":[363,373]},{"text":"extends","type":"Keyword","range":[374,381]},{"text":"string","type":"Identifier","range":[382,388]},{"text":"Default","type":"Identifier","range":[392,399]},{"text":"undefined","type":"Identifier","range":[402,411]},{"text":"StringPath","type":"Identifier","range":[416,426]},{"text":"extends","type":"Keyword","range":[427,434]},{"text":"unknown","type":"Identifier","range":[435,442]},{"text":"Get_","type":"Identifier","range":[447,451]},{"text":"Value","type":"Identifier","range":[452,457]},{"text":"StringToPath","type":"Identifier","range":[459,471]},{"text":"StringPath","type":"Identifier","range":[472,482]},{"text":"Default","type":"Identifier","range":[485,492]},{"text":"never","type":"Identifier","range":[498,503]},{"text":"type","type":"Identifier","range":[506,510]},{"text":"Get_","type":"Identifier","range":[511,515]},{"text":"Value","type":"Identifier","range":[519,524]},{"text":"Path","type":"Identifier","range":[528,532]},{"text":"extends","type":"Keyword","range":[533,540]},{"text":"string","type":"Identifier","range":[541,547]},{"text":"Default","type":"Identifier","range":[553,560]},{"text":"undefined","type":"Identifier","range":[563,572]},{"text":"Index","type":"Identifier","range":[576,581]},{"text":"extends","type":"Keyword","range":[582,589]},{"text":"number","type":"Identifier","range":[590,596]},{"text":"0","type":"Numeric","range":[599,600]},{"text":"0","type":"Numeric","range":[609,610]},{"text":"Value","type":"Identifier","range":[612,617]},{"text":"extends","type":"Keyword","range":[618,625]},{"text":"AnyObject","type":"Identifier","range":[626,635]},{"text":"GetKey","type":"Identifier","range":[638,644]},{"text":"Value","type":"Identifier","range":[645,650]},{"text":"Path","type":"Identifier","range":[652,656]},{"text":"Default","type":"Identifier","range":[658,665]},{"text":"Index","type":"Identifier","range":[667,672]},{"text":"Default","type":"Identifier","range":[676,683]},{"text":"1","type":"Numeric","range":[687,688]},{"text":"Value","type":"Identifier","range":[690,695]},{"text":"extends","type":"Keyword","range":[696,703]},{"text":"undefined","type":"Identifier","range":[704,713]},{"text":"Default","type":"Identifier","range":[716,723]},{"text":"Value","type":"Identifier","range":[726,731]},{"text":"Index","type":"Identifier","range":[735,740]},{"text":"extends","type":"Keyword","range":[741,748]},{"text":"Path","type":"Identifier","range":[749,753]},{"text":"\"length\"","type":"String","range":[754,762]},{"text":"1","type":"Numeric","range":[766,767]},{"text":"0","type":"Numeric","range":[770,771]},{"text":"type","type":"Identifier","range":[775,779]},{"text":"GetKey","type":"Identifier","range":[780,786]},{"text":"Value","type":"Identifier","range":[790,795]},{"text":"extends","type":"Keyword","range":[796,803]},{"text":"AnyObject","type":"Identifier","range":[804,813]},{"text":"Path","type":"Identifier","range":[817,821]},{"text":"extends","type":"Keyword","range":[822,829]},{"text":"string","type":"Identifier","range":[830,836]},{"text":"Default","type":"Identifier","range":[842,849]},{"text":"Index","type":"Identifier","range":[853,858]},{"text":"extends","type":"Keyword","range":[859,866]},{"text":"number","type":"Identifier","range":[867,873]},{"text":"Path","type":"Identifier","range":[878,882]},{"text":"Index","type":"Identifier","range":[883,888]},{"text":"extends","type":"Keyword","range":[890,897]},{"text":"keyof","type":"Identifier","range":[898,903]},{"text":"Value","type":"Identifier","range":[904,909]},{"text":"Get_","type":"Identifier","range":[914,918]},{"text":"Value","type":"Identifier","range":[919,924]},{"text":"Path","type":"Identifier","range":[925,929]},{"text":"Index","type":"Identifier","range":[930,935]},{"text":"Path","type":"Identifier","range":[939,943]},{"text":"Default","type":"Identifier","range":[945,952]},{"text":"Sequence","type":"Identifier","range":[954,962]},{"text":"Index","type":"Identifier","range":[963,968]},{"text":"Value","type":"Identifier","range":[975,980]},{"text":"extends","type":"Keyword","range":[981,988]},{"text":"AnyArray","type":"Identifier","range":[989,997]},{"text":"IsNumericKey","type":"Identifier","range":[1002,1014]},{"text":"Path","type":"Identifier","range":[1015,1019]},{"text":"Index","type":"Identifier","range":[1020,1025]},{"text":"extends","type":"Keyword","range":[1028,1035]},{"text":"false","type":"Boolean","range":[1036,1041]},{"text":"Default","type":"Identifier","range":[1048,1055]},{"text":"IsTuple","type":"Identifier","range":[1062,1069]},{"text":"Value","type":"Identifier","range":[1070,1075]},{"text":"extends","type":"Keyword","range":[1077,1084]},{"text":"true","type":"Boolean","range":[1085,1089]},{"text":"Default","type":"Identifier","range":[1096,1103]},{"text":" value isn't tuple, get array value and","type":"Line","range":[1110,1151]},{"text":" add `undefined` to it (similar to `noUncheckedIndexAccess`)","type":"Line","range":[1158,1220]},{"text":"Get_","type":"Identifier","range":[1227,1231]},{"text":"GetArrayValue","type":"Identifier","range":[1232,1245]},{"text":"Value","type":"Identifier","range":[1246,1251]},{"text":"undefined","type":"Identifier","range":[1255,1264]},{"text":"Path","type":"Identifier","range":[1266,1270]},{"text":"Default","type":"Identifier","range":[1272,1279]},{"text":"Sequence","type":"Identifier","range":[1281,1289]},{"text":"Index","type":"Identifier","range":[1290,1295]},{"text":"Default","type":"Identifier","range":[1302,1309]},{"text":"interface","type":"Keyword","range":[1312,1321]},{"text":"GetFunction","type":"Identifier","range":[1322,1333]},{"text":"Obj","type":"Identifier","range":[1339,1342]},{"text":"extends","type":"Keyword","range":[1343,1350]},{"text":"AnyObject","type":"Identifier","range":[1351,1360]},{"text":"Path","type":"Identifier","range":[1362,1366]},{"text":"extends","type":"Keyword","range":[1367,1374]},{"text":"string","type":"Identifier","range":[1375,1381]},{"text":"Default","type":"Identifier","range":[1383,1390]},{"text":"undefined","type":"Identifier","range":[1393,1402]},{"text":"object","type":"Identifier","range":[1409,1415]},{"text":"Obj","type":"Identifier","range":[1417,1420]},{"text":"path","type":"Identifier","range":[1426,1430]},{"text":"Path","type":"Identifier","range":[1432,1436]},{"text":"defaultValue","type":"Identifier","range":[1442,1454]},{"text":"Default","type":"Identifier","range":[1457,1464]},{"text":"Get","type":"Identifier","range":[1470,1473]},{"text":"Obj","type":"Identifier","range":[1474,1477]},{"text":"Path","type":"Identifier","range":[1479,1483]},{"text":"Default","type":"Identifier","range":[1485,1492]},{"text":"export","type":"Keyword","range":[1498,1504]},{"text":"const","type":"Keyword","range":[1505,1510]},{"text":"get","type":"Identifier","range":[1511,1514]},{"text":"GetFunction","type":"Identifier","range":[1516,1527]},{"text":"object","type":"Identifier","range":[1531,1537]},{"text":"stringPath","type":"Identifier","range":[1539,1549]},{"text":"defaultValue","type":"Identifier","range":[1551,1563]},{"text":"const","type":"Keyword","range":[1572,1577]},{"text":"path","type":"Identifier","range":[1578,1582]},{"text":"stringToPath","type":"Identifier","range":[1585,1597]},{"text":"stringPath","type":"Identifier","range":[1598,1608]},{"text":"let","type":"Keyword","range":[1613,1616]},{"text":"index","type":"Identifier","range":[1617,1622]},{"text":"1","type":"Numeric","range":[1626,1627]},{"text":"const","type":"Keyword","range":[1631,1636]},{"text":"lastIndex","type":"Identifier","range":[1637,1646]},{"text":"path","type":"Identifier","range":[1649,1653]},{"text":"length","type":"Identifier","range":[1654,1660]},{"text":"1","type":"Numeric","range":[1663,1664]},{"text":"while","type":"Keyword","range":[1668,1673]},{"text":"index","type":"Identifier","range":[1677,1682]},{"text":"lastIndex","type":"Identifier","range":[1686,1695]},{"text":"const","type":"Keyword","range":[1703,1708]},{"text":"key","type":"Identifier","range":[1709,1712]},{"text":"path","type":"Identifier","range":[1715,1719]},{"text":"index","type":"Identifier","range":[1720,1725]},{"text":"if","type":"Keyword","range":[1733,1735]},{"text":"hasOwn","type":"Identifier","range":[1737,1743]},{"text":"object","type":"Identifier","range":[1744,1750]},{"text":"key","type":"Identifier","range":[1752,1755]},{"text":"if","type":"Keyword","range":[1766,1768]},{"text":"lastIndex","type":"Identifier","range":[1770,1779]},{"text":"index","type":"Identifier","range":[1784,1789]},{"text":"return","type":"Keyword","range":[1801,1807]},{"text":"isUndefined","type":"Identifier","range":[1808,1819]},{"text":"object","type":"Identifier","range":[1820,1826]},{"text":"key","type":"Identifier","range":[1827,1830]},{"text":"defaultValue","type":"Identifier","range":[1835,1847]},{"text":"object","type":"Identifier","range":[1850,1856]},{"text":"key","type":"Identifier","range":[1857,1860]},{"text":"if","type":"Keyword","range":[1877,1879]},{"text":"isObject","type":"Identifier","range":[1881,1889]},{"text":"object","type":"Identifier","range":[1890,1896]},{"text":"key","type":"Identifier","range":[1897,1900]},{"text":"object","type":"Identifier","range":[1914,1920]},{"text":"object","type":"Identifier","range":[1923,1929]},{"text":"key","type":"Identifier","range":[1930,1933]},{"text":"else","type":"Keyword","range":[1950,1954]},{"text":"return","type":"Keyword","range":[1963,1969]},{"text":"defaultValue","type":"Identifier","range":[1970,1982]},{"text":"return","type":"Keyword","range":[1996,2002]},{"text":"object","type":"Identifier","range":[2003,2009]}]}