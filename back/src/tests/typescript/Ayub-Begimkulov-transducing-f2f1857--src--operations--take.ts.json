{"type":"typescript","text":"import {\n  ArrayCombiner,\n  NoInfer,\n  Predicate,\n  Transducer,\n  TypePredicate,\n} from \"../types\";\n\nexport function takeUntil<T, R extends T>(\n  predicate: TypePredicate<NoInfer<T>, R>\n): Transducer<T, Exclude<T, R>>;\nexport function takeUntil<T>(predicate: Predicate<T>): Transducer<T, T>;\nexport function takeUntil<T, R extends T>(\n  predicate: Predicate<T> | TypePredicate<T, R>\n): Transducer<T, T> | Transducer<T, Exclude<T, R>> {\n  return (combiner: ArrayCombiner<T>) => (acc: T[], c: T, exit: () => void) => {\n    if (predicate(c)) {\n      exit();\n      return acc;\n    }\n    return combiner(acc, c, exit);\n  };\n}\n\nexport function takeWhile<T, R extends T>(\n  predicate: TypePredicate<T, R>\n): Transducer<T, R>;\nexport function takeWhile<T>(predicate: Predicate<T>): Transducer<T, T>;\nexport function takeWhile<T, R extends T>(\n  predicate: Predicate<T> | TypePredicate<T, R>\n) {\n  return takeUntil((v: T) => !predicate(v));\n}\n\nexport const take =\n  <T>(n: number) =>\n  (combiner: ArrayCombiner<T>) =>\n  (acc: T[], c: T, exit: () => void) => {\n    if (acc.length < n) return combiner(acc, c, exit);\n    exit();\n    return acc;\n  };","words":[{"text":"import","type":"Keyword","range":[0,6]},{"text":"ArrayCombiner","type":"Identifier","range":[11,24]},{"text":"NoInfer","type":"Identifier","range":[28,35]},{"text":"Predicate","type":"Identifier","range":[39,48]},{"text":"Transducer","type":"Identifier","range":[52,62]},{"text":"TypePredicate","type":"Identifier","range":[66,79]},{"text":"from","type":"Identifier","range":[83,87]},{"text":"\"../types\"","type":"String","range":[88,98]},{"text":"export","type":"Keyword","range":[101,107]},{"text":"function","type":"Keyword","range":[108,116]},{"text":"takeUntil","type":"Identifier","range":[117,126]},{"text":"T","type":"Identifier","range":[127,128]},{"text":"R","type":"Identifier","range":[130,131]},{"text":"extends","type":"Keyword","range":[132,139]},{"text":"T","type":"Identifier","range":[140,141]},{"text":"predicate","type":"Identifier","range":[146,155]},{"text":"TypePredicate","type":"Identifier","range":[157,170]},{"text":"NoInfer","type":"Identifier","range":[171,178]},{"text":"T","type":"Identifier","range":[179,180]},{"text":"R","type":"Identifier","range":[183,184]},{"text":"Transducer","type":"Identifier","range":[189,199]},{"text":"T","type":"Identifier","range":[200,201]},{"text":"Exclude","type":"Identifier","range":[203,210]},{"text":"T","type":"Identifier","range":[211,212]},{"text":"R","type":"Identifier","range":[214,215]},{"text":"export","type":"Keyword","range":[219,225]},{"text":"function","type":"Keyword","range":[226,234]},{"text":"takeUntil","type":"Identifier","range":[235,244]},{"text":"T","type":"Identifier","range":[245,246]},{"text":"predicate","type":"Identifier","range":[248,257]},{"text":"Predicate","type":"Identifier","range":[259,268]},{"text":"T","type":"Identifier","range":[269,270]},{"text":"Transducer","type":"Identifier","range":[274,284]},{"text":"T","type":"Identifier","range":[285,286]},{"text":"T","type":"Identifier","range":[288,289]},{"text":"export","type":"Keyword","range":[292,298]},{"text":"function","type":"Keyword","range":[299,307]},{"text":"takeUntil","type":"Identifier","range":[308,317]},{"text":"T","type":"Identifier","range":[318,319]},{"text":"R","type":"Identifier","range":[321,322]},{"text":"extends","type":"Keyword","range":[323,330]},{"text":"T","type":"Identifier","range":[331,332]},{"text":"predicate","type":"Identifier","range":[337,346]},{"text":"Predicate","type":"Identifier","range":[348,357]},{"text":"T","type":"Identifier","range":[358,359]},{"text":"TypePredicate","type":"Identifier","range":[363,376]},{"text":"T","type":"Identifier","range":[377,378]},{"text":"R","type":"Identifier","range":[380,381]},{"text":"Transducer","type":"Identifier","range":[386,396]},{"text":"T","type":"Identifier","range":[397,398]},{"text":"T","type":"Identifier","range":[400,401]},{"text":"Transducer","type":"Identifier","range":[405,415]},{"text":"T","type":"Identifier","range":[416,417]},{"text":"Exclude","type":"Identifier","range":[419,426]},{"text":"T","type":"Identifier","range":[427,428]},{"text":"R","type":"Identifier","range":[430,431]},{"text":"return","type":"Keyword","range":[438,444]},{"text":"combiner","type":"Identifier","range":[446,454]},{"text":"ArrayCombiner","type":"Identifier","range":[456,469]},{"text":"T","type":"Identifier","range":[470,471]},{"text":"acc","type":"Identifier","range":[478,481]},{"text":"T","type":"Identifier","range":[483,484]},{"text":"c","type":"Identifier","range":[488,489]},{"text":"T","type":"Identifier","range":[491,492]},{"text":"exit","type":"Identifier","range":[494,498]},{"text":"void","type":"Keyword","range":[506,510]},{"text":"if","type":"Keyword","range":[521,523]},{"text":"predicate","type":"Identifier","range":[525,534]},{"text":"c","type":"Identifier","range":[535,536]},{"text":"exit","type":"Identifier","range":[547,551]},{"text":"return","type":"Keyword","range":[561,567]},{"text":"acc","type":"Identifier","range":[568,571]},{"text":"return","type":"Keyword","range":[583,589]},{"text":"combiner","type":"Identifier","range":[590,598]},{"text":"acc","type":"Identifier","range":[599,602]},{"text":"c","type":"Identifier","range":[604,605]},{"text":"exit","type":"Identifier","range":[607,611]},{"text":"export","type":"Keyword","range":[622,628]},{"text":"function","type":"Keyword","range":[629,637]},{"text":"takeWhile","type":"Identifier","range":[638,647]},{"text":"T","type":"Identifier","range":[648,649]},{"text":"R","type":"Identifier","range":[651,652]},{"text":"extends","type":"Keyword","range":[653,660]},{"text":"T","type":"Identifier","range":[661,662]},{"text":"predicate","type":"Identifier","range":[667,676]},{"text":"TypePredicate","type":"Identifier","range":[678,691]},{"text":"T","type":"Identifier","range":[692,693]},{"text":"R","type":"Identifier","range":[695,696]},{"text":"Transducer","type":"Identifier","range":[701,711]},{"text":"T","type":"Identifier","range":[712,713]},{"text":"R","type":"Identifier","range":[715,716]},{"text":"export","type":"Keyword","range":[719,725]},{"text":"function","type":"Keyword","range":[726,734]},{"text":"takeWhile","type":"Identifier","range":[735,744]},{"text":"T","type":"Identifier","range":[745,746]},{"text":"predicate","type":"Identifier","range":[748,757]},{"text":"Predicate","type":"Identifier","range":[759,768]},{"text":"T","type":"Identifier","range":[769,770]},{"text":"Transducer","type":"Identifier","range":[774,784]},{"text":"T","type":"Identifier","range":[785,786]},{"text":"T","type":"Identifier","range":[788,789]},{"text":"export","type":"Keyword","range":[792,798]},{"text":"function","type":"Keyword","range":[799,807]},{"text":"takeWhile","type":"Identifier","range":[808,817]},{"text":"T","type":"Identifier","range":[818,819]},{"text":"R","type":"Identifier","range":[821,822]},{"text":"extends","type":"Keyword","range":[823,830]},{"text":"T","type":"Identifier","range":[831,832]},{"text":"predicate","type":"Identifier","range":[837,846]},{"text":"Predicate","type":"Identifier","range":[848,857]},{"text":"T","type":"Identifier","range":[858,859]},{"text":"TypePredicate","type":"Identifier","range":[863,876]},{"text":"T","type":"Identifier","range":[877,878]},{"text":"R","type":"Identifier","range":[880,881]},{"text":"return","type":"Keyword","range":[889,895]},{"text":"takeUntil","type":"Identifier","range":[896,905]},{"text":"v","type":"Identifier","range":[907,908]},{"text":"T","type":"Identifier","range":[910,911]},{"text":"predicate","type":"Identifier","range":[917,926]},{"text":"v","type":"Identifier","range":[927,928]},{"text":"export","type":"Keyword","range":[935,941]},{"text":"const","type":"Keyword","range":[942,947]},{"text":"take","type":"Identifier","range":[948,952]},{"text":"T","type":"Identifier","range":[958,959]},{"text":"n","type":"Identifier","range":[961,962]},{"text":"number","type":"Identifier","range":[964,970]},{"text":"combiner","type":"Identifier","range":[978,986]},{"text":"ArrayCombiner","type":"Identifier","range":[988,1001]},{"text":"T","type":"Identifier","range":[1002,1003]},{"text":"acc","type":"Identifier","range":[1012,1015]},{"text":"T","type":"Identifier","range":[1017,1018]},{"text":"c","type":"Identifier","range":[1022,1023]},{"text":"T","type":"Identifier","range":[1025,1026]},{"text":"exit","type":"Identifier","range":[1028,1032]},{"text":"void","type":"Keyword","range":[1040,1044]},{"text":"if","type":"Keyword","range":[1055,1057]},{"text":"acc","type":"Identifier","range":[1059,1062]},{"text":"length","type":"Identifier","range":[1063,1069]},{"text":"n","type":"Identifier","range":[1072,1073]},{"text":"return","type":"Keyword","range":[1075,1081]},{"text":"combiner","type":"Identifier","range":[1082,1090]},{"text":"acc","type":"Identifier","range":[1091,1094]},{"text":"c","type":"Identifier","range":[1096,1097]},{"text":"exit","type":"Identifier","range":[1099,1103]},{"text":"exit","type":"Identifier","range":[1110,1114]},{"text":"return","type":"Keyword","range":[1122,1128]},{"text":"acc","type":"Identifier","range":[1129,1132]}]}