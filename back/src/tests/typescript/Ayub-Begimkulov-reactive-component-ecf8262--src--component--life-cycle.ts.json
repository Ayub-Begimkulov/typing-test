{"type":"typescript","text":"import { currentInstance } from \"./instance\";\n\nexport const BEFORE_DESTROY = \"before-destroy\";\n\nconst makeLifeCycleHook = (type: string) => (callback: Function) => {\n  if (currentInstance) {\n    const hooksMap = currentInstance.hooks;\n    let lifeCycleHooks = hooksMap.get(type);\n    if (!lifeCycleHooks) {\n      lifeCycleHooks = new Set();\n      hooksMap.set(type, lifeCycleHooks);\n    }\n    lifeCycleHooks.add(callback);\n  }\n};\n\nexport const onBeforeDestroy = makeLifeCycleHook(BEFORE_DESTROY);","words":[{"text":"import","type":"Keyword","range":[0,6]},{"text":"currentInstance","type":"Identifier","range":[9,24]},{"text":"from","type":"Identifier","range":[27,31]},{"text":"\"./instance\"","type":"String","range":[32,44]},{"text":"export","type":"Keyword","range":[47,53]},{"text":"const","type":"Keyword","range":[54,59]},{"text":"BEFORE_DESTROY","type":"Identifier","range":[60,74]},{"text":"\"before-destroy\"","type":"String","range":[77,93]},{"text":"const","type":"Keyword","range":[96,101]},{"text":"makeLifeCycleHook","type":"Identifier","range":[102,119]},{"text":"type","type":"Identifier","range":[123,127]},{"text":"string","type":"Identifier","range":[129,135]},{"text":"callback","type":"Identifier","range":[141,149]},{"text":"Function","type":"Identifier","range":[151,159]},{"text":"if","type":"Keyword","range":[168,170]},{"text":"currentInstance","type":"Identifier","range":[172,187]},{"text":"const","type":"Keyword","range":[195,200]},{"text":"hooksMap","type":"Identifier","range":[201,209]},{"text":"currentInstance","type":"Identifier","range":[212,227]},{"text":"hooks","type":"Identifier","range":[228,233]},{"text":"let","type":"Keyword","range":[239,242]},{"text":"lifeCycleHooks","type":"Identifier","range":[243,257]},{"text":"hooksMap","type":"Identifier","range":[260,268]},{"text":"get","type":"Identifier","range":[269,272]},{"text":"type","type":"Identifier","range":[273,277]},{"text":"if","type":"Keyword","range":[284,286]},{"text":"lifeCycleHooks","type":"Identifier","range":[289,303]},{"text":"lifeCycleHooks","type":"Identifier","range":[313,327]},{"text":"new","type":"Keyword","range":[330,333]},{"text":"Set","type":"Identifier","range":[334,337]},{"text":"hooksMap","type":"Identifier","range":[347,355]},{"text":"set","type":"Identifier","range":[356,359]},{"text":"type","type":"Identifier","range":[360,364]},{"text":"lifeCycleHooks","type":"Identifier","range":[366,380]},{"text":"lifeCycleHooks","type":"Identifier","range":[393,407]},{"text":"add","type":"Identifier","range":[408,411]},{"text":"callback","type":"Identifier","range":[412,420]},{"text":"export","type":"Keyword","range":[431,437]},{"text":"const","type":"Keyword","range":[438,443]},{"text":"onBeforeDestroy","type":"Identifier","range":[444,459]},{"text":"makeLifeCycleHook","type":"Identifier","range":[462,479]},{"text":"BEFORE_DESTROY","type":"Identifier","range":[480,494]}]}