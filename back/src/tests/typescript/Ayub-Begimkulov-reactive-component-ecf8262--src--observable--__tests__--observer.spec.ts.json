{"type":"typescript","text":"import { observable, observe } from \"..\";\n\ndescribe(\"observable util\", () => {\n  it(\"runs reaction when data changes\", () => {\n    let dummy;\n    const obj = observable({ a: 0 });\n    const spy = jest.fn(() => (dummy = obj.a));\n\n    observe(spy);\n\n    expect(spy).toBeCalledTimes(1);\n    expect(dummy).toBe(0);\n\n    for (let i = 0; i < 10; i++) {\n      obj.a++;\n    }\n\n    expect(spy).toBeCalledTimes(11);\n    expect(dummy).toBe(10);\n  });\n\n  it(\"observes multiple properties\", () => {\n    let dummy;\n    const obj = observable({ a: 1, b: 1 });\n\n    observe(() => (dummy = obj.a + obj.b));\n\n    expect(dummy).toBe(2);\n\n    obj.a = 7;\n\n    expect(dummy).toBe(8);\n\n    obj.b = 5;\n\n    expect(dummy).toBe(12);\n  });\n\n  it(\"handles multiple reactions\", () => {\n    let dummy1, dummy2;\n    const obj = observable({ a: 0 });\n\n    observe(() => (dummy1 = obj.a));\n    observe(() => (dummy2 = obj.a));\n\n    expect(dummy1).toBe(0);\n    expect(dummy2).toBe(0);\n\n    obj.a = 7;\n\n    expect(dummy1).toBe(7);\n    expect(dummy2).toBe(7);\n  });\n\n  it(\"observes nested objects\", () => {\n    let dummy;\n    const obj = observable({ nested: { a: 0 } });\n    const spy = jest.fn(() => (dummy = obj.nested.a));\n\n    observe(spy);\n\n    expect(dummy).toBe(0);\n    expect(spy).toBeCalledTimes(1);\n\n    obj.nested.a = 5;\n\n    expect(dummy).toBe(5);\n    expect(spy).toBeCalledTimes(2);\n\n    obj.nested = {\n      a: 3,\n    };\n\n    expect(dummy).toBe(3);\n    expect(spy).toBeCalledTimes(3);\n  });\n\n  it(\"observes function chain calls\", () => {\n    let dummy;\n    const obj = observable({ a: 0 });\n\n    const getDummy = () => obj.a;\n\n    observe(() => {\n      dummy = getDummy();\n    });\n\n    expect(dummy).toBe(0);\n\n    obj.a = 5;\n\n    expect(dummy).toBe(5);\n  });\n\n  it(\"avoids implicit infinite recursive loops with itself\", () => {\n    const obj = observable({ a: 0 });\n\n    const spy = jest.fn(() => obj.a++);\n    observe(spy);\n\n    expect(obj.a).toBe(1);\n    expect(spy).toBeCalledTimes(1);\n\n    obj.a = 4;\n    expect(obj.a).toBe(5);\n    expect(spy).toBeCalledTimes(2);\n  });\n\n  it(\"avoids infinite loops with other reactions\", () => {\n    const obj = observable({ num1: 0, num2: 1 });\n\n    const spy1 = jest.fn(() => (obj.num1 = obj.num2));\n    const spy2 = jest.fn(() => (obj.num2 = obj.num1));\n\n    observe(spy1);\n    observe(spy2);\n\n    expect(obj.num1).toBe(1);\n    expect(obj.num2).toBe(1);\n\n    expect(spy1).toBeCalledTimes(1);\n    expect(spy2).toBeCalledTimes(1);\n\n    obj.num2 = 4;\n\n    expect(obj.num1).toBe(4);\n    expect(obj.num2).toBe(4);\n\n    expect(spy1).toBeCalledTimes(2);\n    expect(spy2).toBeCalledTimes(2);\n\n    obj.num1 = 10;\n\n    expect(obj.num1).toBe(10);\n    expect(obj.num2).toBe(10);\n\n    expect(spy1).toBeCalledTimes(3);\n    expect(spy2).toBeCalledTimes(3);\n  });\n\n  it(\"discovers new branches while running automatically\", () => {\n    const obj = observable({ a: 0, b: 0 });\n\n    const spy1 = jest.fn();\n    const spy2 = jest.fn();\n\n    observe(() => {\n      if (obj.a < 2) {\n        spy1();\n      } else if (obj.b >= 0) {\n        spy2();\n      }\n    });\n\n    expect(spy1).toBeCalledTimes(1);\n    expect(spy2).toBeCalledTimes(0);\n\n    obj.a = 2;\n\n    expect(spy1).toBeCalledTimes(1);\n    expect(spy2).toBeCalledTimes(1);\n\n    obj.b = 5;\n\n    expect(spy1).toBeCalledTimes(1);\n    expect(spy2).toBeCalledTimes(2);\n  });\n\n  it(\"not triggered by mutating a property, which is used in an inactive branch\", () => {\n    let dummy;\n    const obj = observable({ prop: \"value\", run: true });\n\n    const conditionalSpy = jest.fn(() => {\n      dummy = obj.run ? obj.prop : \"other\";\n    });\n    observe(conditionalSpy);\n\n    expect(dummy).toBe(\"value\");\n    expect(conditionalSpy).toBeCalledTimes(1);\n    obj.run = false;\n    expect(dummy).toBe(\"other\");\n    expect(conditionalSpy).toBeCalledTimes(2);\n    obj.prop = \"value2\";\n    expect(dummy).toBe(\"other\");\n    expect(conditionalSpy).toBeCalledTimes(2);\n  });\n\n  it(\"should not run if the value didn't change\", () => {\n    let dummy;\n    const obj = observable({ a: 0 });\n\n    const spy = jest.fn(() => {\n      dummy = obj.a;\n    });\n    observe(spy);\n\n    expect(dummy).toBe(0);\n    expect(spy).toBeCalledTimes(1);\n\n    obj.a = 2;\n\n    expect(dummy).toBe(2);\n    expect(spy).toBeCalledTimes(2);\n\n    obj.a = 2;\n\n    expect(dummy).toBe(2);\n    expect(spy).toBeCalledTimes(2);\n  });\n\n  it.todo(\"should allow nested reactions\");\n});","words":[{"text":"import","type":"Keyword","range":[0,6]},{"text":"observable","type":"Identifier","range":[9,19]},{"text":"observe","type":"Identifier","range":[21,28]},{"text":"from","type":"Identifier","range":[31,35]},{"text":"\"..\"","type":"String","range":[36,40]},{"text":"describe","type":"Identifier","range":[43,51]},{"text":"\"observable util\"","type":"String","range":[52,69]},{"text":"it","type":"Identifier","range":[81,83]},{"text":"\"runs reaction when data changes\"","type":"String","range":[84,117]},{"text":"let","type":"Keyword","range":[131,134]},{"text":"dummy","type":"Identifier","range":[135,140]},{"text":"const","type":"Keyword","range":[146,151]},{"text":"obj","type":"Identifier","range":[152,155]},{"text":"observable","type":"Identifier","range":[158,168]},{"text":"a","type":"Identifier","range":[171,172]},{"text":"0","type":"Numeric","range":[174,175]},{"text":"const","type":"Keyword","range":[184,189]},{"text":"spy","type":"Identifier","range":[190,193]},{"text":"jest","type":"Identifier","range":[196,200]},{"text":"fn","type":"Identifier","range":[201,203]},{"text":"dummy","type":"Identifier","range":[211,216]},{"text":"obj","type":"Identifier","range":[219,222]},{"text":"a","type":"Identifier","range":[223,224]},{"text":"observe","type":"Identifier","range":[233,240]},{"text":"spy","type":"Identifier","range":[241,244]},{"text":"expect","type":"Identifier","range":[252,258]},{"text":"spy","type":"Identifier","range":[259,262]},{"text":"toBeCalledTimes","type":"Identifier","range":[264,279]},{"text":"1","type":"Numeric","range":[280,281]},{"text":"expect","type":"Identifier","range":[288,294]},{"text":"dummy","type":"Identifier","range":[295,300]},{"text":"toBe","type":"Identifier","range":[302,306]},{"text":"0","type":"Numeric","range":[307,308]},{"text":"for","type":"Keyword","range":[316,319]},{"text":"let","type":"Keyword","range":[321,324]},{"text":"i","type":"Identifier","range":[325,326]},{"text":"0","type":"Numeric","range":[329,330]},{"text":"i","type":"Identifier","range":[332,333]},{"text":"10","type":"Numeric","range":[336,338]},{"text":"i","type":"Identifier","range":[340,341]},{"text":"obj","type":"Identifier","range":[353,356]},{"text":"a","type":"Identifier","range":[357,358]},{"text":"expect","type":"Identifier","range":[373,379]},{"text":"spy","type":"Identifier","range":[380,383]},{"text":"toBeCalledTimes","type":"Identifier","range":[385,400]},{"text":"11","type":"Numeric","range":[401,403]},{"text":"expect","type":"Identifier","range":[410,416]},{"text":"dummy","type":"Identifier","range":[417,422]},{"text":"toBe","type":"Identifier","range":[424,428]},{"text":"10","type":"Numeric","range":[429,431]},{"text":"it","type":"Identifier","range":[443,445]},{"text":"\"observes multiple properties\"","type":"String","range":[446,476]},{"text":"let","type":"Keyword","range":[490,493]},{"text":"dummy","type":"Identifier","range":[494,499]},{"text":"const","type":"Keyword","range":[505,510]},{"text":"obj","type":"Identifier","range":[511,514]},{"text":"observable","type":"Identifier","range":[517,527]},{"text":"a","type":"Identifier","range":[530,531]},{"text":"1","type":"Numeric","range":[533,534]},{"text":"b","type":"Identifier","range":[536,537]},{"text":"1","type":"Numeric","range":[539,540]},{"text":"observe","type":"Identifier","range":[550,557]},{"text":"dummy","type":"Identifier","range":[565,570]},{"text":"obj","type":"Identifier","range":[573,576]},{"text":"a","type":"Identifier","range":[577,578]},{"text":"obj","type":"Identifier","range":[581,584]},{"text":"b","type":"Identifier","range":[585,586]},{"text":"expect","type":"Identifier","range":[595,601]},{"text":"dummy","type":"Identifier","range":[602,607]},{"text":"toBe","type":"Identifier","range":[609,613]},{"text":"2","type":"Numeric","range":[614,615]},{"text":"obj","type":"Identifier","range":[623,626]},{"text":"a","type":"Identifier","range":[627,628]},{"text":"7","type":"Numeric","range":[631,632]},{"text":"expect","type":"Identifier","range":[639,645]},{"text":"dummy","type":"Identifier","range":[646,651]},{"text":"toBe","type":"Identifier","range":[653,657]},{"text":"8","type":"Numeric","range":[658,659]},{"text":"obj","type":"Identifier","range":[667,670]},{"text":"b","type":"Identifier","range":[671,672]},{"text":"5","type":"Numeric","range":[675,676]},{"text":"expect","type":"Identifier","range":[683,689]},{"text":"dummy","type":"Identifier","range":[690,695]},{"text":"toBe","type":"Identifier","range":[697,701]},{"text":"12","type":"Numeric","range":[702,704]},{"text":"it","type":"Identifier","range":[716,718]},{"text":"\"handles multiple reactions\"","type":"String","range":[719,747]},{"text":"let","type":"Keyword","range":[761,764]},{"text":"dummy1","type":"Identifier","range":[765,771]},{"text":"dummy2","type":"Identifier","range":[773,779]},{"text":"const","type":"Keyword","range":[785,790]},{"text":"obj","type":"Identifier","range":[791,794]},{"text":"observable","type":"Identifier","range":[797,807]},{"text":"a","type":"Identifier","range":[810,811]},{"text":"0","type":"Numeric","range":[813,814]},{"text":"observe","type":"Identifier","range":[824,831]},{"text":"dummy1","type":"Identifier","range":[839,845]},{"text":"obj","type":"Identifier","range":[848,851]},{"text":"a","type":"Identifier","range":[852,853]},{"text":"observe","type":"Identifier","range":[861,868]},{"text":"dummy2","type":"Identifier","range":[876,882]},{"text":"obj","type":"Identifier","range":[885,888]},{"text":"a","type":"Identifier","range":[889,890]},{"text":"expect","type":"Identifier","range":[899,905]},{"text":"dummy1","type":"Identifier","range":[906,912]},{"text":"toBe","type":"Identifier","range":[914,918]},{"text":"0","type":"Numeric","range":[919,920]},{"text":"expect","type":"Identifier","range":[927,933]},{"text":"dummy2","type":"Identifier","range":[934,940]},{"text":"toBe","type":"Identifier","range":[942,946]},{"text":"0","type":"Numeric","range":[947,948]},{"text":"obj","type":"Identifier","range":[956,959]},{"text":"a","type":"Identifier","range":[960,961]},{"text":"7","type":"Numeric","range":[964,965]},{"text":"expect","type":"Identifier","range":[972,978]},{"text":"dummy1","type":"Identifier","range":[979,985]},{"text":"toBe","type":"Identifier","range":[987,991]},{"text":"7","type":"Numeric","range":[992,993]},{"text":"expect","type":"Identifier","range":[1000,1006]},{"text":"dummy2","type":"Identifier","range":[1007,1013]},{"text":"toBe","type":"Identifier","range":[1015,1019]},{"text":"7","type":"Numeric","range":[1020,1021]},{"text":"it","type":"Identifier","range":[1033,1035]},{"text":"\"observes nested objects\"","type":"String","range":[1036,1061]},{"text":"let","type":"Keyword","range":[1075,1078]},{"text":"dummy","type":"Identifier","range":[1079,1084]},{"text":"const","type":"Keyword","range":[1090,1095]},{"text":"obj","type":"Identifier","range":[1096,1099]},{"text":"observable","type":"Identifier","range":[1102,1112]},{"text":"nested","type":"Identifier","range":[1115,1121]},{"text":"a","type":"Identifier","range":[1125,1126]},{"text":"0","type":"Numeric","range":[1128,1129]},{"text":"const","type":"Keyword","range":[1140,1145]},{"text":"spy","type":"Identifier","range":[1146,1149]},{"text":"jest","type":"Identifier","range":[1152,1156]},{"text":"fn","type":"Identifier","range":[1157,1159]},{"text":"dummy","type":"Identifier","range":[1167,1172]},{"text":"obj","type":"Identifier","range":[1175,1178]},{"text":"nested","type":"Identifier","range":[1179,1185]},{"text":"a","type":"Identifier","range":[1186,1187]},{"text":"observe","type":"Identifier","range":[1196,1203]},{"text":"spy","type":"Identifier","range":[1204,1207]},{"text":"expect","type":"Identifier","range":[1215,1221]},{"text":"dummy","type":"Identifier","range":[1222,1227]},{"text":"toBe","type":"Identifier","range":[1229,1233]},{"text":"0","type":"Numeric","range":[1234,1235]},{"text":"expect","type":"Identifier","range":[1242,1248]},{"text":"spy","type":"Identifier","range":[1249,1252]},{"text":"toBeCalledTimes","type":"Identifier","range":[1254,1269]},{"text":"1","type":"Numeric","range":[1270,1271]},{"text":"obj","type":"Identifier","range":[1279,1282]},{"text":"nested","type":"Identifier","range":[1283,1289]},{"text":"a","type":"Identifier","range":[1290,1291]},{"text":"5","type":"Numeric","range":[1294,1295]},{"text":"expect","type":"Identifier","range":[1302,1308]},{"text":"dummy","type":"Identifier","range":[1309,1314]},{"text":"toBe","type":"Identifier","range":[1316,1320]},{"text":"5","type":"Numeric","range":[1321,1322]},{"text":"expect","type":"Identifier","range":[1329,1335]},{"text":"spy","type":"Identifier","range":[1336,1339]},{"text":"toBeCalledTimes","type":"Identifier","range":[1341,1356]},{"text":"2","type":"Numeric","range":[1357,1358]},{"text":"obj","type":"Identifier","range":[1366,1369]},{"text":"nested","type":"Identifier","range":[1370,1376]},{"text":"a","type":"Identifier","range":[1387,1388]},{"text":"3","type":"Numeric","range":[1390,1391]},{"text":"expect","type":"Identifier","range":[1405,1411]},{"text":"dummy","type":"Identifier","range":[1412,1417]},{"text":"toBe","type":"Identifier","range":[1419,1423]},{"text":"3","type":"Numeric","range":[1424,1425]},{"text":"expect","type":"Identifier","range":[1432,1438]},{"text":"spy","type":"Identifier","range":[1439,1442]},{"text":"toBeCalledTimes","type":"Identifier","range":[1444,1459]},{"text":"3","type":"Numeric","range":[1460,1461]},{"text":"it","type":"Identifier","range":[1473,1475]},{"text":"\"observes function chain calls\"","type":"String","range":[1476,1507]},{"text":"let","type":"Keyword","range":[1521,1524]},{"text":"dummy","type":"Identifier","range":[1525,1530]},{"text":"const","type":"Keyword","range":[1536,1541]},{"text":"obj","type":"Identifier","range":[1542,1545]},{"text":"observable","type":"Identifier","range":[1548,1558]},{"text":"a","type":"Identifier","range":[1561,1562]},{"text":"0","type":"Numeric","range":[1564,1565]},{"text":"const","type":"Keyword","range":[1575,1580]},{"text":"getDummy","type":"Identifier","range":[1581,1589]},{"text":"obj","type":"Identifier","range":[1598,1601]},{"text":"a","type":"Identifier","range":[1602,1603]},{"text":"observe","type":"Identifier","range":[1610,1617]},{"text":"dummy","type":"Identifier","range":[1632,1637]},{"text":"getDummy","type":"Identifier","range":[1640,1648]},{"text":"expect","type":"Identifier","range":[1665,1671]},{"text":"dummy","type":"Identifier","range":[1672,1677]},{"text":"toBe","type":"Identifier","range":[1679,1683]},{"text":"0","type":"Numeric","range":[1684,1685]},{"text":"obj","type":"Identifier","range":[1693,1696]},{"text":"a","type":"Identifier","range":[1697,1698]},{"text":"5","type":"Numeric","range":[1701,1702]},{"text":"expect","type":"Identifier","range":[1709,1715]},{"text":"dummy","type":"Identifier","range":[1716,1721]},{"text":"toBe","type":"Identifier","range":[1723,1727]},{"text":"5","type":"Numeric","range":[1728,1729]},{"text":"it","type":"Identifier","range":[1741,1743]},{"text":"\"avoids implicit infinite recursive loops with itself\"","type":"String","range":[1744,1798]},{"text":"const","type":"Keyword","range":[1812,1817]},{"text":"obj","type":"Identifier","range":[1818,1821]},{"text":"observable","type":"Identifier","range":[1824,1834]},{"text":"a","type":"Identifier","range":[1837,1838]},{"text":"0","type":"Numeric","range":[1840,1841]},{"text":"const","type":"Keyword","range":[1851,1856]},{"text":"spy","type":"Identifier","range":[1857,1860]},{"text":"jest","type":"Identifier","range":[1863,1867]},{"text":"fn","type":"Identifier","range":[1868,1870]},{"text":"obj","type":"Identifier","range":[1877,1880]},{"text":"a","type":"Identifier","range":[1881,1882]},{"text":"observe","type":"Identifier","range":[1891,1898]},{"text":"spy","type":"Identifier","range":[1899,1902]},{"text":"expect","type":"Identifier","range":[1910,1916]},{"text":"obj","type":"Identifier","range":[1917,1920]},{"text":"a","type":"Identifier","range":[1921,1922]},{"text":"toBe","type":"Identifier","range":[1924,1928]},{"text":"1","type":"Numeric","range":[1929,1930]},{"text":"expect","type":"Identifier","range":[1937,1943]},{"text":"spy","type":"Identifier","range":[1944,1947]},{"text":"toBeCalledTimes","type":"Identifier","range":[1949,1964]},{"text":"1","type":"Numeric","range":[1965,1966]},{"text":"obj","type":"Identifier","range":[1974,1977]},{"text":"a","type":"Identifier","range":[1978,1979]},{"text":"4","type":"Numeric","range":[1982,1983]},{"text":"expect","type":"Identifier","range":[1989,1995]},{"text":"obj","type":"Identifier","range":[1996,1999]},{"text":"a","type":"Identifier","range":[2000,2001]},{"text":"toBe","type":"Identifier","range":[2003,2007]},{"text":"5","type":"Numeric","range":[2008,2009]},{"text":"expect","type":"Identifier","range":[2016,2022]},{"text":"spy","type":"Identifier","range":[2023,2026]},{"text":"toBeCalledTimes","type":"Identifier","range":[2028,2043]},{"text":"2","type":"Numeric","range":[2044,2045]},{"text":"it","type":"Identifier","range":[2057,2059]},{"text":"\"avoids infinite loops with other reactions\"","type":"String","range":[2060,2104]},{"text":"const","type":"Keyword","range":[2118,2123]},{"text":"obj","type":"Identifier","range":[2124,2127]},{"text":"observable","type":"Identifier","range":[2130,2140]},{"text":"num1","type":"Identifier","range":[2143,2147]},{"text":"0","type":"Numeric","range":[2149,2150]},{"text":"num2","type":"Identifier","range":[2152,2156]},{"text":"1","type":"Numeric","range":[2158,2159]},{"text":"const","type":"Keyword","range":[2169,2174]},{"text":"spy1","type":"Identifier","range":[2175,2179]},{"text":"jest","type":"Identifier","range":[2182,2186]},{"text":"fn","type":"Identifier","range":[2187,2189]},{"text":"obj","type":"Identifier","range":[2197,2200]},{"text":"num1","type":"Identifier","range":[2201,2205]},{"text":"obj","type":"Identifier","range":[2208,2211]},{"text":"num2","type":"Identifier","range":[2212,2216]},{"text":"const","type":"Keyword","range":[2224,2229]},{"text":"spy2","type":"Identifier","range":[2230,2234]},{"text":"jest","type":"Identifier","range":[2237,2241]},{"text":"fn","type":"Identifier","range":[2242,2244]},{"text":"obj","type":"Identifier","range":[2252,2255]},{"text":"num2","type":"Identifier","range":[2256,2260]},{"text":"obj","type":"Identifier","range":[2263,2266]},{"text":"num1","type":"Identifier","range":[2267,2271]},{"text":"observe","type":"Identifier","range":[2280,2287]},{"text":"spy1","type":"Identifier","range":[2288,2292]},{"text":"observe","type":"Identifier","range":[2299,2306]},{"text":"spy2","type":"Identifier","range":[2307,2311]},{"text":"expect","type":"Identifier","range":[2319,2325]},{"text":"obj","type":"Identifier","range":[2326,2329]},{"text":"num1","type":"Identifier","range":[2330,2334]},{"text":"toBe","type":"Identifier","range":[2336,2340]},{"text":"1","type":"Numeric","range":[2341,2342]},{"text":"expect","type":"Identifier","range":[2349,2355]},{"text":"obj","type":"Identifier","range":[2356,2359]},{"text":"num2","type":"Identifier","range":[2360,2364]},{"text":"toBe","type":"Identifier","range":[2366,2370]},{"text":"1","type":"Numeric","range":[2371,2372]},{"text":"expect","type":"Identifier","range":[2380,2386]},{"text":"spy1","type":"Identifier","range":[2387,2391]},{"text":"toBeCalledTimes","type":"Identifier","range":[2393,2408]},{"text":"1","type":"Numeric","range":[2409,2410]},{"text":"expect","type":"Identifier","range":[2417,2423]},{"text":"spy2","type":"Identifier","range":[2424,2428]},{"text":"toBeCalledTimes","type":"Identifier","range":[2430,2445]},{"text":"1","type":"Numeric","range":[2446,2447]},{"text":"obj","type":"Identifier","range":[2455,2458]},{"text":"num2","type":"Identifier","range":[2459,2463]},{"text":"4","type":"Numeric","range":[2466,2467]},{"text":"expect","type":"Identifier","range":[2474,2480]},{"text":"obj","type":"Identifier","range":[2481,2484]},{"text":"num1","type":"Identifier","range":[2485,2489]},{"text":"toBe","type":"Identifier","range":[2491,2495]},{"text":"4","type":"Numeric","range":[2496,2497]},{"text":"expect","type":"Identifier","range":[2504,2510]},{"text":"obj","type":"Identifier","range":[2511,2514]},{"text":"num2","type":"Identifier","range":[2515,2519]},{"text":"toBe","type":"Identifier","range":[2521,2525]},{"text":"4","type":"Numeric","range":[2526,2527]},{"text":"expect","type":"Identifier","range":[2535,2541]},{"text":"spy1","type":"Identifier","range":[2542,2546]},{"text":"toBeCalledTimes","type":"Identifier","range":[2548,2563]},{"text":"2","type":"Numeric","range":[2564,2565]},{"text":"expect","type":"Identifier","range":[2572,2578]},{"text":"spy2","type":"Identifier","range":[2579,2583]},{"text":"toBeCalledTimes","type":"Identifier","range":[2585,2600]},{"text":"2","type":"Numeric","range":[2601,2602]},{"text":"obj","type":"Identifier","range":[2610,2613]},{"text":"num1","type":"Identifier","range":[2614,2618]},{"text":"10","type":"Numeric","range":[2621,2623]},{"text":"expect","type":"Identifier","range":[2630,2636]},{"text":"obj","type":"Identifier","range":[2637,2640]},{"text":"num1","type":"Identifier","range":[2641,2645]},{"text":"toBe","type":"Identifier","range":[2647,2651]},{"text":"10","type":"Numeric","range":[2652,2654]},{"text":"expect","type":"Identifier","range":[2661,2667]},{"text":"obj","type":"Identifier","range":[2668,2671]},{"text":"num2","type":"Identifier","range":[2672,2676]},{"text":"toBe","type":"Identifier","range":[2678,2682]},{"text":"10","type":"Numeric","range":[2683,2685]},{"text":"expect","type":"Identifier","range":[2693,2699]},{"text":"spy1","type":"Identifier","range":[2700,2704]},{"text":"toBeCalledTimes","type":"Identifier","range":[2706,2721]},{"text":"3","type":"Numeric","range":[2722,2723]},{"text":"expect","type":"Identifier","range":[2730,2736]},{"text":"spy2","type":"Identifier","range":[2737,2741]},{"text":"toBeCalledTimes","type":"Identifier","range":[2743,2758]},{"text":"3","type":"Numeric","range":[2759,2760]},{"text":"it","type":"Identifier","range":[2772,2774]},{"text":"\"discovers new branches while running automatically\"","type":"String","range":[2775,2827]},{"text":"const","type":"Keyword","range":[2841,2846]},{"text":"obj","type":"Identifier","range":[2847,2850]},{"text":"observable","type":"Identifier","range":[2853,2863]},{"text":"a","type":"Identifier","range":[2866,2867]},{"text":"0","type":"Numeric","range":[2869,2870]},{"text":"b","type":"Identifier","range":[2872,2873]},{"text":"0","type":"Numeric","range":[2875,2876]},{"text":"const","type":"Keyword","range":[2886,2891]},{"text":"spy1","type":"Identifier","range":[2892,2896]},{"text":"jest","type":"Identifier","range":[2899,2903]},{"text":"fn","type":"Identifier","range":[2904,2906]},{"text":"const","type":"Keyword","range":[2914,2919]},{"text":"spy2","type":"Identifier","range":[2920,2924]},{"text":"jest","type":"Identifier","range":[2927,2931]},{"text":"fn","type":"Identifier","range":[2932,2934]},{"text":"observe","type":"Identifier","range":[2943,2950]},{"text":"if","type":"Keyword","range":[2965,2967]},{"text":"obj","type":"Identifier","range":[2969,2972]},{"text":"a","type":"Identifier","range":[2973,2974]},{"text":"2","type":"Numeric","range":[2977,2978]},{"text":"spy1","type":"Identifier","range":[2990,2994]},{"text":"else","type":"Keyword","range":[3006,3010]},{"text":"if","type":"Keyword","range":[3011,3013]},{"text":"obj","type":"Identifier","range":[3015,3018]},{"text":"b","type":"Identifier","range":[3019,3020]},{"text":"0","type":"Numeric","range":[3024,3025]},{"text":"spy2","type":"Identifier","range":[3037,3041]},{"text":"expect","type":"Identifier","range":[3066,3072]},{"text":"spy1","type":"Identifier","range":[3073,3077]},{"text":"toBeCalledTimes","type":"Identifier","range":[3079,3094]},{"text":"1","type":"Numeric","range":[3095,3096]},{"text":"expect","type":"Identifier","range":[3103,3109]},{"text":"spy2","type":"Identifier","range":[3110,3114]},{"text":"toBeCalledTimes","type":"Identifier","range":[3116,3131]},{"text":"0","type":"Numeric","range":[3132,3133]},{"text":"obj","type":"Identifier","range":[3141,3144]},{"text":"a","type":"Identifier","range":[3145,3146]},{"text":"2","type":"Numeric","range":[3149,3150]},{"text":"expect","type":"Identifier","range":[3157,3163]},{"text":"spy1","type":"Identifier","range":[3164,3168]},{"text":"toBeCalledTimes","type":"Identifier","range":[3170,3185]},{"text":"1","type":"Numeric","range":[3186,3187]},{"text":"expect","type":"Identifier","range":[3194,3200]},{"text":"spy2","type":"Identifier","range":[3201,3205]},{"text":"toBeCalledTimes","type":"Identifier","range":[3207,3222]},{"text":"1","type":"Numeric","range":[3223,3224]},{"text":"obj","type":"Identifier","range":[3232,3235]},{"text":"b","type":"Identifier","range":[3236,3237]},{"text":"5","type":"Numeric","range":[3240,3241]},{"text":"expect","type":"Identifier","range":[3248,3254]},{"text":"spy1","type":"Identifier","range":[3255,3259]},{"text":"toBeCalledTimes","type":"Identifier","range":[3261,3276]},{"text":"1","type":"Numeric","range":[3277,3278]},{"text":"expect","type":"Identifier","range":[3285,3291]},{"text":"spy2","type":"Identifier","range":[3292,3296]},{"text":"toBeCalledTimes","type":"Identifier","range":[3298,3313]},{"text":"2","type":"Numeric","range":[3314,3315]},{"text":"it","type":"Identifier","range":[3327,3329]},{"text":"\"not triggered by mutating a property, which is used in an inactive branch\"","type":"String","range":[3330,3405]},{"text":"let","type":"Keyword","range":[3419,3422]},{"text":"dummy","type":"Identifier","range":[3423,3428]},{"text":"const","type":"Keyword","range":[3434,3439]},{"text":"obj","type":"Identifier","range":[3440,3443]},{"text":"observable","type":"Identifier","range":[3446,3456]},{"text":"prop","type":"Identifier","range":[3459,3463]},{"text":"\"value\"","type":"String","range":[3465,3472]},{"text":"run","type":"Identifier","range":[3474,3477]},{"text":"true","type":"Boolean","range":[3479,3483]},{"text":"const","type":"Keyword","range":[3493,3498]},{"text":"conditionalSpy","type":"Identifier","range":[3499,3513]},{"text":"jest","type":"Identifier","range":[3516,3520]},{"text":"fn","type":"Identifier","range":[3521,3523]},{"text":"dummy","type":"Identifier","range":[3538,3543]},{"text":"obj","type":"Identifier","range":[3546,3549]},{"text":"run","type":"Identifier","range":[3550,3553]},{"text":"obj","type":"Identifier","range":[3556,3559]},{"text":"prop","type":"Identifier","range":[3560,3564]},{"text":"\"other\"","type":"String","range":[3567,3574]},{"text":"observe","type":"Identifier","range":[3588,3595]},{"text":"conditionalSpy","type":"Identifier","range":[3596,3610]},{"text":"expect","type":"Identifier","range":[3618,3624]},{"text":"dummy","type":"Identifier","range":[3625,3630]},{"text":"toBe","type":"Identifier","range":[3632,3636]},{"text":"\"value\"","type":"String","range":[3637,3644]},{"text":"expect","type":"Identifier","range":[3651,3657]},{"text":"conditionalSpy","type":"Identifier","range":[3658,3672]},{"text":"toBeCalledTimes","type":"Identifier","range":[3674,3689]},{"text":"1","type":"Numeric","range":[3690,3691]},{"text":"obj","type":"Identifier","range":[3698,3701]},{"text":"run","type":"Identifier","range":[3702,3705]},{"text":"false","type":"Boolean","range":[3708,3713]},{"text":"expect","type":"Identifier","range":[3719,3725]},{"text":"dummy","type":"Identifier","range":[3726,3731]},{"text":"toBe","type":"Identifier","range":[3733,3737]},{"text":"\"other\"","type":"String","range":[3738,3745]},{"text":"expect","type":"Identifier","range":[3752,3758]},{"text":"conditionalSpy","type":"Identifier","range":[3759,3773]},{"text":"toBeCalledTimes","type":"Identifier","range":[3775,3790]},{"text":"2","type":"Numeric","range":[3791,3792]},{"text":"obj","type":"Identifier","range":[3799,3802]},{"text":"prop","type":"Identifier","range":[3803,3807]},{"text":"\"value2\"","type":"String","range":[3810,3818]},{"text":"expect","type":"Identifier","range":[3824,3830]},{"text":"dummy","type":"Identifier","range":[3831,3836]},{"text":"toBe","type":"Identifier","range":[3838,3842]},{"text":"\"other\"","type":"String","range":[3843,3850]},{"text":"expect","type":"Identifier","range":[3857,3863]},{"text":"conditionalSpy","type":"Identifier","range":[3864,3878]},{"text":"toBeCalledTimes","type":"Identifier","range":[3880,3895]},{"text":"2","type":"Numeric","range":[3896,3897]},{"text":"it","type":"Identifier","range":[3909,3911]},{"text":"\"should not run if the value didn't change\"","type":"String","range":[3912,3955]},{"text":"let","type":"Keyword","range":[3969,3972]},{"text":"dummy","type":"Identifier","range":[3973,3978]},{"text":"const","type":"Keyword","range":[3984,3989]},{"text":"obj","type":"Identifier","range":[3990,3993]},{"text":"observable","type":"Identifier","range":[3996,4006]},{"text":"a","type":"Identifier","range":[4009,4010]},{"text":"0","type":"Numeric","range":[4012,4013]},{"text":"const","type":"Keyword","range":[4023,4028]},{"text":"spy","type":"Identifier","range":[4029,4032]},{"text":"jest","type":"Identifier","range":[4035,4039]},{"text":"fn","type":"Identifier","range":[4040,4042]},{"text":"dummy","type":"Identifier","range":[4057,4062]},{"text":"obj","type":"Identifier","range":[4065,4068]},{"text":"a","type":"Identifier","range":[4069,4070]},{"text":"observe","type":"Identifier","range":[4084,4091]},{"text":"spy","type":"Identifier","range":[4092,4095]},{"text":"expect","type":"Identifier","range":[4103,4109]},{"text":"dummy","type":"Identifier","range":[4110,4115]},{"text":"toBe","type":"Identifier","range":[4117,4121]},{"text":"0","type":"Numeric","range":[4122,4123]},{"text":"expect","type":"Identifier","range":[4130,4136]},{"text":"spy","type":"Identifier","range":[4137,4140]},{"text":"toBeCalledTimes","type":"Identifier","range":[4142,4157]},{"text":"1","type":"Numeric","range":[4158,4159]},{"text":"obj","type":"Identifier","range":[4167,4170]},{"text":"a","type":"Identifier","range":[4171,4172]},{"text":"2","type":"Numeric","range":[4175,4176]},{"text":"expect","type":"Identifier","range":[4183,4189]},{"text":"dummy","type":"Identifier","range":[4190,4195]},{"text":"toBe","type":"Identifier","range":[4197,4201]},{"text":"2","type":"Numeric","range":[4202,4203]},{"text":"expect","type":"Identifier","range":[4210,4216]},{"text":"spy","type":"Identifier","range":[4217,4220]},{"text":"toBeCalledTimes","type":"Identifier","range":[4222,4237]},{"text":"2","type":"Numeric","range":[4238,4239]},{"text":"obj","type":"Identifier","range":[4247,4250]},{"text":"a","type":"Identifier","range":[4251,4252]},{"text":"2","type":"Numeric","range":[4255,4256]},{"text":"expect","type":"Identifier","range":[4263,4269]},{"text":"dummy","type":"Identifier","range":[4270,4275]},{"text":"toBe","type":"Identifier","range":[4277,4281]},{"text":"2","type":"Numeric","range":[4282,4283]},{"text":"expect","type":"Identifier","range":[4290,4296]},{"text":"spy","type":"Identifier","range":[4297,4300]},{"text":"toBeCalledTimes","type":"Identifier","range":[4302,4317]},{"text":"2","type":"Numeric","range":[4318,4319]},{"text":"it","type":"Identifier","range":[4331,4333]},{"text":"todo","type":"Identifier","range":[4334,4338]},{"text":"\"should allow nested reactions\"","type":"String","range":[4339,4370]}]}